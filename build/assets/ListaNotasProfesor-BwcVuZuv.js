import{r as p,x as fo,j as t,C as ut,h as xt}from"./index-SVRFFNc9.js";import{C as h}from"./index.esm-DWwMdKxH.js";import{S as u}from"./sweetalert2.esm.all-D3pEHXw3.js";import{u as Co}from"./usePermission-BCWksQX7.js";import jo from"./AccessDenied-yaDW3Jao.js";import{l as ue}from"./logo_saint_patrick-xw7Wl8f3.js";import{E as xe}from"./jspdf.plugin.autotable-gke1D7B3.js";import{u as w,w as pe}from"./xlsx-lwdk4T0U.js";import{C as yo}from"./CContainer-BdNP0s3v.js";import{C as B,a as N}from"./CRow-Bf67u6lu.js";import{C as ge,a as he,b as me,c as D}from"./CDropdownToggle-DlfIUTmX.js";import{c as be}from"./cil-description-MUzg6O3n.js";import{c as fe}from"./cil-file-CeQgYs_D.js";import{c as Ce}from"./cil-spreadsheet-CJUvf_vM.js";import{C as U}from"./CInputGroup-D-McUFva.js";import{C as Pe}from"./CInputGroupText-Cfu0fzaY.js";import{c as je}from"./cil-search-CDkY_4k-.js";import{C as ye}from"./CFormInput-B_gylY64.js";import{a as g}from"./CButton-D9GPTbB6.js";import{c as _e}from"./cil-brush-alt-CV61lKqC.js";import{C as Me}from"./CFormSelect-CzT7g5tb.js";import{C as v,a as F,b,c as x,d as z,e as c}from"./CTable-98qqrSRH.js";import{C as De}from"./CPagination-UopCEeNZ.js";import{c as X}from"./cil-arrow-left-D66Kb3Zq.js";import{c as So}from"./cil-plus-D8mtC-W5.js";import{c as pt}from"./cil-pen-53d2I-C-.js";import{c as wo}from"./cil-info-CmGCY32x.js";import{C as $e,a as Re,b as Be,c as Le}from"./CModalHeader-Bhtr3bZe.js";import{C as Ie}from"./CModalTitle-M2mBvD_5.js";import{c as Ao}from"./cil-save-CHBg7z_U.js";import"./CConditionalPortal-DwBsYzTA.js";import"./CFormControlWrapper-OEJgTi6e.js";import"./CFormControlValidation-CtDkyDfm.js";import"./CFormLabel-szm2Dda9.js";import"./CBackdrop-BbuVwMMD.js";const ir=()=>{const{canSelect:gt,canInsert:ht,canUpdate:mt}=Co("ListaNotasProfesor"),[bt,ft]=p.useState([]),[Ct,jt]=p.useState([]),[yt,St]=p.useState([]),[Y,A]=p.useState(!0),[Se,Q]=p.useState("secciones"),[f,wt]=p.useState(""),[S,At]=p.useState(""),[y,Nt]=p.useState(""),[Oe,we]=p.useState([]),[Ge,kt]=p.useState([]),[T,Tt]=p.useState(null),[E,vt]=p.useState(null),[Ve,Ft]=p.useState([]),[We,He]=p.useState(!1),[zt,Ue]=p.useState(null),[L,q]=p.useState("parciales"),[Et,Ae]=p.useState(!1),[No,Pt]=p.useState(!1),[Z,J]=p.useState([]),[$,ee]=p.useState([]),[R,_t]=p.useState([]),[m,K]=p.useState(null),[te,Ne]=p.useState("activid"),[Ye,qe]=p.useState(!1),[ke,Ze]=p.useState(""),[C,Mt]=p.useState(""),[I,Dt]=p.useState(5),[oe,Je]=p.useState(""),[O,re]=p.useState(1),[G,$t]=p.useState(5),[Ke,Xe]=p.useState(""),[V,ae]=p.useState(1),[W,Rt]=p.useState(5),[Qe,et]=p.useState(""),[H,se]=p.useState(1),[tt,Te]=p.useState("");p.useEffect(()=>{Bt();const e=localStorage.getItem("token");if(e)try{const r=fo(e);console.log("Token decodificado:",r)}catch(r){console.error("Error al decodificar el token:",r)}},[]);const Bt=async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("Token no encontrado");const r=await fetch("http://74.50.68.87:4000/api/notas/seccionesporprofe",{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Error al cargar secciones.");const o=await r.json();ft(o.secciones)}catch(e){console.error("Error al obtener las secciones:",e)}finally{A(!1)}},ve=async e=>{try{A(!0);const r=await fetch(`http://74.50.68.87:4000/api/notas/notas?Cod_seccion=${e}`);if(!r.ok)throw new Error("Error al obtener las asignaturas");const o=await r.json();jt(o)}catch(r){console.error("Error:",r),u.fire("Error","Hubo un problema al obtener las asignaturas","error")}finally{A(!1)}},Fe=async e=>{try{A(!0);const r=await fetch(`http://74.50.68.87:4000/api/notas/promedio?Cod_seccion_asignatura=${e}`);if(!r.ok)throw new Error("Error al obtener los promedios");const o=await r.json();St(o)}catch(r){console.error("Error:",r),u.fire("Error","Hubo un problema al obtener los promedios","error")}finally{A(!1)}},Lt=async e=>{try{A(!0);const r=await fetch(`http://74.50.68.87:4000/api/notas/actividades?Cod_seccion_asignatura=${e}`);if(!r.ok)throw new Error("Error al obtener las actividades");const n=(await r.json()).reduce((s,i)=>{const a=i.Nombre_parcial||`Parcial ${i.Cod_parcial}`;return s[a]||(s[a]=[]),s[a].push(i),s},{});Ft(Object.keys(n).map(s=>({nombre:s,actividades:n[s]}))),He(!0)}catch(r){console.error("Error:",r),u.fire("Error","Hubo un problema al obtener las actividades","error")}finally{A(!1)}},It=async(e,r,o)=>{try{A(!0),Ze(o),console.log("Cod_seccion_asignatura:",e,"Cod_parcial:",r);const n=await fetch(`http://74.50.68.87:4000/api/notas/actividadescalificadas?Cod_seccion_asignatura=${e}`);if(!n.ok)throw new Error("Error al obtener las actividades");const i=(await n.json()).filter(a=>a.Cod_parcial===r);console.log("Actividades filtradas:",i),kt(i),qe(!0)}catch(n){console.error("Error:",n),u.fire("Error","Hubo un problema al obtener las actividades","error")}finally{A(!1)}},Ot=async e=>{try{const r=await fetch(`http://74.50.68.87:4000/api/seccionalumno/estudiantes/${E}`);if(!r.ok)throw new Error("Error al obtener la lista de estudiantes");const o=await r.json();J(o),K(e),Pt(!0)}catch(r){console.error("Error:",r),u.fire("Error","Hubo un problema al obtener los estudiantes","error")}},ot=async(e,r,o,n)=>{try{console.log("Parametros:",{codSeccion:e,codSeccionAsignatura:r,codParcial:o,codActividadAsignatura:n}),A(!0);const s=await fetch(`http://74.50.68.87:4000/api/notas/notasactividad/${e}/${r}/${o}/${n}`);if(!s.ok)throw new Error("Error al obtener las notas");const i=await s.json();i.length>0?ee(i):u.fire("Información","No se encontraron notas para esta actividad.","info")}catch(s){console.error("Error al obtener las notas:",s)}finally{A(!1)}},Gt=async()=>{try{const e=localStorage.getItem("token");if(!e){u.fire("Error","No tienes permiso para realizar esta acción","error");return}const r=xt(e);if(!r.cod_usuario||!r.nombre_usuario)throw console.error("No se pudo obtener el código o el nombre de usuario del token"),new Error("No se pudo obtener el código o el nombre de usuario del token");if(!$||$.length===0){u.fire("Advertencia","No hay datos para actualizar.","info");return}const o=$.map(i=>({Cod_nota:i.Cod_nota,Nota:i.Nota,Observacion:i.Observacion||null})),n=await fetch("http://74.50.68.87:4000/api/notas/actualizarnota",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),Authorization:`Bearer ${e}`}),s=await n.json();if(n.ok){const i=o.map(d=>d.Cod_nota).join(", "),a=`El usuario: ${r.nombre_usuario} ha actualizado las notas con los códigos: ${i}`;(await fetch("http://74.50.68.87:4000/api/bitacora/registro",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({cod_usuario:r.cod_usuario,cod_objeto:85,accion:"UPDATE",descripcion:a})})).ok?console.log("Registro en bitácora exitoso"):u.fire("Error","No se pudo registrar la acción en la bitácora","error"),T&&await Fe(T),E&&await ve(E),u.fire({title:"Éxito",text:"Las notas Actualizadas correctamente.",icon:"success",confirmButtonText:"Aceptar"}),await ot(E,T,m.Cod_parcial,m.Cod_actividad_asignatura),Ee()}else u.fire("Error",s.Mensaje||"Ocurrió un error al actualizar las notas.","error")}catch(e){console.error("Error al actualizar notas:",e),u.fire("Error","Hubo un problema al actualizar las notas.","error")}},Vt=async()=>{try{const e=localStorage.getItem("token");if(!e){u.fire("Error","No tienes permiso para realizar esta acción","error");return}const r=xt(e);if(!r.cod_usuario||!r.nombre_usuario)throw console.error("No se pudo obtener el código o el nombre de usuario del token"),new Error("No se pudo obtener el código o el nombre de usuario del token");const o=Z.map(i=>({Nota:i.nota,Observacion:i.observacion||null,Cod_parcial:m.Cod_parcial,Cod_actividad_asignatura:m.Cod_actividad_asignatura,Cod_seccion_matricula:i.Cod_seccion_matricula})),n=await fetch("http://74.50.68.87:4000/api/notas/crearnota",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(o)}),s=await n.json();if(n.ok){const i=`El usuario: ${r.nombre_usuario} ha creado nuevas notas `;(await fetch("http://74.50.68.87:4000/api/bitacora/registro",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({cod_usuario:r.cod_usuario,cod_objeto:85,accion:"INSERT",descripcion:i})})).ok?console.log("Registro en bitácora exitoso"):u.fire("Error","No se pudo registrar la acción en la bitácora","error"),u.fire({title:"Éxito",text:"Las notas registradas correctamente.",icon:"success",confirmButtonText:"Aceptar"}),T&&await Fe(T),E&&await ve(E),ze()}else u.fire("Error",s.Mensaje||"Ocurrió un error al guardar las notas.","error")}catch(e){console.error("Error al guardar notas:",e),u.fire("Error","Hubo un problema al guardar las notas.","error")}},Wt=async(e,r,o,n)=>{try{Ze(n),A(!0);const s=await fetch(`http://74.50.68.87:4000/api/notas/notatotal/${e}/${r}/${o}`);if(!s.ok)throw new Error("Error al obtener la lista de estudiantes");const i=await s.json();_t(i),Ae(!0)}catch(s){console.error("Error:",s),u.fire("Error","Hubo un problema al obtener los estudiantes","error")}finally{A(!1)}},Ht=(e,r,o,n)=>{vt(e),wt(r),Mt(o),Nt(n),ve(e),Q("asignaturas")},Ut=(e,r)=>{Tt(e),At(r),Fe(e),Q("promedios")},Yt=()=>{Q("secciones")},qt=()=>{Q("asignaturas")};if(!gt)return t.jsx(jo,{});const Zt=e=>{Ue(e.nombre),we(e.actividades),q("actividades")},Jt=()=>{q("parciales")},Kt=e=>{K(e),Ot(e),q("estudiantes")},Xt=async e=>{K(e),await ot(E,T,e.Cod_parcial,e.Cod_actividad_asignatura),Ne("estudiant")},Qt=()=>{q("actividades")},eo=()=>{Ne("activid")},ze=()=>{He(!1),q("parciales"),Ue(null),we([]),K(null),J([])},Ee=()=>{qe(!1),Ne("activid"),we([]),K(null),ee([])},k=e=>{e.preventDefault(),u.fire({icon:"warning",title:"Acción bloqueada",text:"Copiar y pegar no está permitido.",confirmButtonText:"Aceptar"})},rt=(e,r)=>{let n=e.target.value.toUpperCase().trimStart();const s=/^[A-ZÑÁÉÍÓÚ0-9\s,]*$/;if(/\s{2,}/.test(n)&&(u.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),n=n.replace(/\s+/g," ")),!s.test(n)){u.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras, números y espacios.",confirmButtonText:"Aceptar"});return}const i=n.split(" ");for(let a of i){const l={};for(let d of a)if(l[d]=(l[d]||0)+1,l[d]>4){u.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${d}" se repite más de 4 veces en la palabra "${a}".`,confirmButtonText:"Aceptar"});return}}r(n)},ne=e=>{const r=new Date(e),o={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return r.toLocaleString("es-HN",o)},to=()=>{if(!P||P.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte excel.",confirmButtonText:"Aceptar"});return}const e=[["Saint Patrick Academy"],["Reporte de Secciones"],[],["#","Sección","Grado","Total Alumnos","Año Académico"]],r=P.map((d,j)=>[j+1,d.Seccion,d.Grado,d.Total_Alumnos,d.Anio_Academico]),o=[...e,...r],n=w.aoa_to_sheet(o),s=w.decode_range(n["!ref"]);for(let d=0;d<=3;d++)for(let j=s.s.c;j<=s.e.c;j++){const de=w.encode_cell({r:d,c:j});n[de]&&(n[de].s={font:{bold:!0,sz:14,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"15401D"}},alignment:{horizontal:"center"}})}const i=[{wpx:100},{wpx:100},{wpx:100},{wpx:100},{wpx:100}];n["!cols"]=i;const a=w.book_new();w.book_append_sheet(a,n,"Reporte de Secciones"),pe(a,"Reporte_Secciones.xlsx")},oo=()=>{if(!_||_.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte excel.",confirmButtonText:"Aceptar"});return}const e=[];C&&f&&y?e.push([`Grado: ${C} | Sección: ${f} | Año: ${y}`]):C&&f&&y&&e.push([`Grado: ${C} | Sección: ${f} | Año: ${y}`]);const r=[["Saint Patrick Academy"],["Reporte de Promedio por Asignatura"],[],...e,[],["#","Asignatura","Descripción","Promedio"]],o=_.map((d,j)=>[j+1,d.Nombre_asignatura||"N/A",d.Descripcion_asignatura||"N/A",d.Promedio_Notas||0]),n=[...r,...o],s=w.aoa_to_sheet(n),i=[{wpx:40},{wpx:150},{wpx:280},{wpx:100}];s["!cols"]=i;const a=w.book_new();w.book_append_sheet(a,s,"Promedios Asignaturas"),pe(a,"Reporte_Promedios_Asignaturas.xlsx")},ro=()=>{if(!M||M.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte excel.",confirmButtonText:"Aceptar"});return}let e=[];C&&f&&y&&S?e.push([`Grado: ${C} | Sección: ${f} | Año: ${y} | Asignatura: ${S}`]):C&&f&&y?e.push([`Grado: ${C} | Sección: ${f} | Año: ${y}`]):S&&e.push([`Asignatura: ${S}`]);const r=[["Saint Patrick Academy"],["Reporte de Promedio por Parcial de Asignatura"],...e,[],["#","Parcial","Promedio","Total Aprobados","Total Reprobados"]],o=M.map((d,j)=>[j+1,d.NombreParcial||"N/A",d.PromedioGeneral||0,d.TotalAprobados||0,d.TotalReprobados||0]),n=[...r,...o],s=w.aoa_to_sheet(n),i=[{wpx:40},{wpx:150},{wpx:150},{wpx:100},{wpx:100}];s["!cols"]=i;const a=w.book_new();w.book_append_sheet(a,s,"Promedios Asignaturas"),pe(a,"Reporte_Promedios_Asignaturas_Parcial.xlsx")},ao=()=>{if(!M||M.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte.",confirmButtonText:"Aceptar"});return}const e=new xe,r=new Image;r.src=ue,r.onload=()=>{e.addImage(r,"PNG",10,10,30,30);let o=20;e.setFontSize(18),e.setTextColor(0,102,51),e.text("SAINT PATRICK'S ACADEMY",e.internal.pageSize.width/2,o,{align:"center"}),o+=12,e.setFontSize(16),e.text("Reporte de Promedios por Parcial",e.internal.pageSize.width/2,o,{align:"center"}),o+=10,e.setFontSize(12),e.setTextColor(0,0,0),C&&f&&y&&S?e.text(`Grado: ${C} | Sección: ${f} | Año: ${y} | Asignatura: ${S}`,e.internal.pageSize.width/2,o,{align:"center"}):C&&f&&y?e.text(`Grado: ${C} | Sección: ${f} | Año: ${y}`,e.internal.pageSize.width/2,o,{align:"center"}):S&&e.text(`Asignatura: ${S}`,e.internal.pageSize.width/2,o,{align:"center"}),o+=8,e.setFontSize(10),e.setTextColor(100),e.text("Casa Club del periodista, Colonia del Periodista",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Teléfono: (504) 2234-8871",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Correo: info@saintpatrickacademy.edu",e.internal.pageSize.width/2,o,{align:"center"}),o+=6,e.setLineWidth(.5),e.setDrawColor(0,102,51),e.line(10,o,e.internal.pageSize.width-10,o);const n=e.internal.pageSize.height;e.autoTable({startY:o+4,head:[["#","Parcial","Promedio","Total Aprobados","Total Reprobados"]],body:M.map((a,l)=>[l+1,`${a.NombreParcial}`.trim(),a.PromedioGeneral,a.TotalAprobados,a.TotalReprobados]),headStyles:{fillColor:[0,102,51],textColor:[255,255,255],fontSize:10},styles:{fontSize:10,cellPadding:3,halign:"center"},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"},4:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[240,248,255]},didDrawPage:a=>{const l=new Date,d=`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`,j=e.internal.pageSize.height;e.setFontSize(10),e.setTextColor(100),e.text(`Fecha y hora de generación: ${d}`,10,j-10)}});const s=e.internal.getNumberOfPages(),i=e.internal.pageSize.width;for(let a=1;a<=s;a++){e.setPage(a),e.setTextColor(100);const l=`Página ${a} de ${s}`;e.text(l,i-30,n-10)}window.open(e.output("bloburl"),"_blank")},r.onerror=()=>{console.warn("No se pudo cargar el logo. El PDF se generará sin el logo."),window.open(e.output("bloburl"),"_blank")}},so=()=>{if(!_||_.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte.",confirmButtonText:"Aceptar"});return}const e=new xe,r=new Image;r.src=ue,r.onload=()=>{e.addImage(r,"PNG",10,10,30,30);let o=20;e.setFontSize(18),e.setTextColor(0,102,51),e.text("SAINT PATRICK'S ACADEMY",e.internal.pageSize.width/2,o,{align:"center"}),o+=12,e.setFontSize(16),e.text("Reporte de Promedios por Asignatura",e.internal.pageSize.width/2,o,{align:"center"}),o+=10,e.setFontSize(12),e.setTextColor(0,0,0),C&&f&&y?e.text(`Grado: ${C} | Sección: ${f} | Año: ${y}`,e.internal.pageSize.width/2,o,{align:"center"}):C&&f&&e.text(`Grado: ${C} | Año: ${f}`,e.internal.pageSize.width/2,o,{align:"center"}),o+=8,e.setFontSize(10),e.setTextColor(100),e.text("Casa Club del periodista, Colonia del Periodista",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Teléfono: (504) 2234-8871",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Correo: info@saintpatrickacademy.edu",e.internal.pageSize.width/2,o,{align:"center"}),o+=6,e.setLineWidth(.5),e.setDrawColor(0,102,51),e.line(10,o,e.internal.pageSize.width-10,o);const n=e.internal.pageSize.height;e.autoTable({startY:o+4,head:[["#","Asignatura","Descripción","Promedio"]],body:_.map((a,l)=>[l+1,`${a.Nombre_asignatura}`.trim(),a.Descripcion_asignatura,a.Promedio_Notas]),headStyles:{fillColor:[0,102,51],textColor:[255,255,255],fontSize:10},styles:{fontSize:10,cellPadding:3,halign:"center"},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[240,248,255]},didDrawPage:a=>{const l=new Date,d=`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`,j=e.internal.pageSize.height;e.setFontSize(10),e.setTextColor(100),e.text(`Fecha y hora de generación: ${d}`,10,j-10)}});const s=e.internal.getNumberOfPages(),i=e.internal.pageSize.width;for(let a=1;a<=s;a++){e.setPage(a),e.setTextColor(100);const l=`Página ${a} de ${s}`;e.text(l,i-30,n-10)}window.open(e.output("bloburl"),"_blank")},r.onerror=()=>{console.warn("No se pudo cargar el logo. El PDF se generará sin el logo."),window.open(e.output("bloburl"),"_blank")}},no=()=>{if(!P||P.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte.",confirmButtonText:"Aceptar"});return}const e=new xe,r=new Image;r.src=ue,r.onload=()=>{e.addImage(r,"PNG",10,10,30,30);let o=20;e.setFontSize(18),e.setTextColor(0,102,51),e.text("SAINT PATRICK'S ACADEMY",e.internal.pageSize.width/2,o,{align:"center"}),o+=12,e.setFontSize(16),e.text("Reporte de Secciones",e.internal.pageSize.width/2,o,{align:"center"}),o+=10,e.setFontSize(10),e.setTextColor(100),e.text("Casa Club del periodista, Colonia del Periodista",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Teléfono: (504) 2234-8871",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Correo: info@saintpatrickacademy.edu",e.internal.pageSize.width/2,o,{align:"center"}),o+=6,e.setLineWidth(.5),e.setDrawColor(0,102,51),e.line(10,o,e.internal.pageSize.width-10,o);const n=e.internal.pageSize.height;e.autoTable({startY:o+4,head:[["#","Sección","Grado","Total Alumnos","Año Académico"]],body:P.map((a,l)=>[l+1,`${a.Seccion||""}`.trim(),a.Grado,a.Total_Alumnos,a.Anio_Academico]),headStyles:{fillColor:[0,102,51],textColor:[255,255,255],fontSize:10},styles:{fontSize:10,cellPadding:3,halign:"center"},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"},4:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[240,248,255]},didDrawPage:a=>{const l=new Date,d=`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`,j=e.internal.pageSize.height;e.setFontSize(10),e.setTextColor(100),e.text(`Fecha y hora de generación: ${d}`,10,j-10)}});const s=e.internal.getNumberOfPages(),i=e.internal.pageSize.width;for(let a=1;a<=s;a++){e.setPage(a),e.setTextColor(100);const l=`Página ${a} de ${s}`;e.text(l,i-30,n-10)}window.open(e.output("bloburl"),"_blank")},r.onerror=()=>{console.warn("No se pudo cargar el logo. El PDF se generará sin el logo."),window.open(e.output("bloburl"),"_blank")}},io=()=>{if(!R||R.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte.",confirmButtonText:"Aceptar"});return}const e=new xe,r=new Image;r.src=ue,r.onload=()=>{e.addImage(r,"PNG",10,10,30,30);let o=20;e.setFontSize(18),e.setTextColor(0,102,51),e.text("SAINT PATRICK'S ACADEMY",e.internal.pageSize.width/2,o,{align:"center"}),o+=12,e.setFontSize(16),e.text("Reporte de Nota por Parcial-Asignatura",e.internal.pageSize.width/2,o,{align:"center"}),o+=10,e.setFontSize(12),e.setTextColor(0,0,0);const n=`Grado: ${C} | Sección: ${f} | Año: ${y}`,s=`Asignatura: ${S} | Parcial: ${ke}`;e.text(n,e.internal.pageSize.width/2,o,{align:"center"}),o+=6,e.text(s,e.internal.pageSize.width/2,o,{align:"center"}),o+=8,e.setFontSize(10),e.setTextColor(100),e.text("Casa Club del periodista, Colonia del Periodista",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Teléfono: (504) 2234-8871",e.internal.pageSize.width/2,o,{align:"center"}),o+=4,e.text("Correo: info@saintpatrickacademy.edu",e.internal.pageSize.width/2,o,{align:"center"}),o+=6,e.setLineWidth(.5),e.setDrawColor(0,102,51),e.line(10,o,e.internal.pageSize.width-10,o);const i=e.internal.pageSize.height;e.autoTable({startY:o+4,head:[["#","Nombre Estudiante","Nota Total","Estado"]],body:R.map((d,j)=>[j+1,`${d.NombreCompleto}`.trim(),d.NotaTotal,d.EstadoNota]),headStyles:{fillColor:[0,102,51],textColor:[255,255,255],fontSize:10},styles:{fontSize:10,cellPadding:3,halign:"center"},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[240,248,255]},didDrawPage:d=>{const j=new Date,de=`${j.toLocaleDateString()} ${j.toLocaleTimeString()}`,bo=e.internal.pageSize.height;e.setFontSize(10),e.setTextColor(100),e.text(`Fecha y hora de generación: ${de}`,10,bo-10)}});const a=e.internal.getNumberOfPages(),l=e.internal.pageSize.width;for(let d=1;d<=a;d++){e.setPage(d),e.setTextColor(100);const j=`Página ${d} de ${a}`;e.text(j,l-30,i-10)}window.open(e.output("bloburl"),"_blank")},r.onerror=()=>{console.warn("No se pudo cargar el logo. El PDF se generará sin el logo."),window.open(e.output("bloburl"),"_blank")}},lo=()=>{if(!R||R.length===0){u.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte Excel.",confirmButtonText:"Aceptar"});return}let e=[];if(C&&f&&y&&S){const l=`Grado: ${C} | Sección: ${f} | Año: ${y}`,d=`Asignatura: ${S} | Parcial: ${ke}`;e.push([l],[d])}else if(C&&f&&y){const l=`Grado: ${C} | Sección: ${f} | Año: ${y}`;e.push([l])}else if(S){const l=`Asignatura: ${S}`;e.push([l])}const r=[["Saint Patrick Academy"],["Reporte de Nota por Parcial-Asignatura"],...e,[],["#","Nombre Estudiante","Nota Total","Estado"]],o=R.map((l,d)=>[d+1,l.NombreCompleto||"N/A",l.NotaTotal,l.EstadoNota]),n=[...r,...o],s=w.aoa_to_sheet(n);s["!cols"]=[{wpx:40},{wpx:200},{wpx:100},{wpx:100}],s["!rows"]=n.map(()=>({hpx:20,wrapText:!0}));const i=w.book_new();w.book_append_sheet(i,s,"Promedios Asignaturas"),pe(i,"Reporte_NotaTotal_Parcial_Asignatura.xlsx")},co=e=>{let o=e.target.value.toUpperCase().trimStart();const n=/^[A-ZÑÁÉÍÓÚ0-9\s,]*$/;if(/\s{2,}/.test(o)&&(u.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),o=o.replace(/\s+/g," ")),!n.test(o)){u.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras, números y espacios.",confirmButtonText:"Aceptar"});return}const s=o.split(" ");for(let i of s){const a={};for(let l of i)if(a[l]=(a[l]||0)+1,a[l]>4){u.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${l}" se repite más de 4 veces en la palabra "${i}".`,confirmButtonText:"Aceptar"});return}}Je(o),re(1)},ie=bt.filter(e=>e.Seccion.toLowerCase().includes(oe.toLowerCase())||e.Grado.toLowerCase().includes(oe.toLowerCase())||e.Anio_Academico.toString().includes(oe)),at=O*I,uo=at-I,P=ie.slice(uo,at),st=e=>{e>0&&e<=Math.ceil(ie.length/I)&&re(e)},xo=e=>{let o=e.target.value.toUpperCase().trimStart();const n=/^[A-ZÑÁÉÍÓÚ0-9\s,]*$/;if(/\s{2,}/.test(o)&&(u.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),o=o.replace(/\s+/g," ")),!n.test(o)){u.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras, números y espacios.",confirmButtonText:"Aceptar"});return}const s=o.split(" ");for(let i of s){const a={};for(let l of i)if(a[l]=(a[l]||0)+1,a[l]>4){u.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${l}" se repite más de 4 veces en la palabra "${i}".`,confirmButtonText:"Aceptar"});return}}Xe(o),ae(1)},le=Ct.filter(e=>e.Nombre_asignatura.toLowerCase().includes(Ke.toLowerCase())),nt=V*G,po=nt-G,_=le.slice(po,nt),it=e=>{e>0&&e<=Math.ceil(le.length/G)&&ae(e)},go=e=>{let o=e.target.value.toUpperCase().trimStart();const n=/^[A-ZÑÁÉÍÓÚ0-9\s,]*$/;if(/\s{2,}/.test(o)&&(u.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),o=o.replace(/\s+/g," ")),!n.test(o)){u.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras, números y espacios.",confirmButtonText:"Aceptar"});return}const s=o.split(" ");for(let i of s){const a={};for(let l of i)if(a[l]=(a[l]||0)+1,a[l]>4){u.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${l}" se repite más de 4 veces en la palabra "${i}".`,confirmButtonText:"Aceptar"});return}}et(o),se(1)},ce=yt.filter(e=>e.NombreParcial.toLowerCase().includes(Qe.toLowerCase())),lt=H*W,ho=lt-W,M=ce.slice(ho,lt),ct=e=>{e>0&&e<=Math.ceil(ce.length/W)&&se(e)},mo=e=>{let r=e.target.value.toUpperCase().trimStart();const o=/^[A-ZÑÁÉÍÓÚ0-9\s,]*$/;if(/\s{2,}/.test(r)&&(u.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),r=r.replace(/\s+/g," ")),!o.test(r)){u.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras, números y espacios.",confirmButtonText:"Aceptar"});return}const n=r.split(" ");for(let s of n){const i={};for(let a of s)if(i[a]=(i[a]||0)+1,i[a]>4){u.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${a}" se repite más de 4 veces en la palabra "${s}".`,confirmButtonText:"Aceptar"});return}}Te(r)},dt=R.filter(e=>e.NombreCompleto.toUpperCase().includes(tt.toUpperCase()));return t.jsxs(yo,{className:"py-1",children:[Y&&t.jsx("div",{className:"text-center my-5",children:t.jsx(ut,{color:"primary","aria-label":"Cargando información..."})}),!Y&&Se==="secciones"&&t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"align-items-center mb-5",children:t.jsxs(N,{xs:"12",className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-3",children:[t.jsx("div",{className:"flex-grow-1 text-center",children:t.jsx("h4",{className:"text-center fw-semibold pb-2 mb-0",style:{display:"inline-block",borderBottom:"2px solid #4CAF50"},children:" Notas: Mis Secciones"})}),t.jsxs(ge,{className:"btn-sm d-flex align-items-center gap-1 rounded shadow",children:[t.jsxs(he,{style:{backgroundColor:"#6C8E58",color:"white",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#5A784C",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#6C8E58",e.currentTarget.style.boxShadow="none"},children:[t.jsx(h,{icon:be})," Reporte"]}),t.jsxs(me,{style:{position:"absolute",zIndex:1050,backgroundColor:"#fff",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:[t.jsxs(D,{onClick:no,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",borderBottom:"1px solid #eaeaea",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:fe,size:"sm"})," Abrir en PDF"]}),t.jsxs(D,{onClick:to,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:Ce,size:"sm"})," Descargar Excel"]})]})]})]})}),t.jsxs(B,{className:"align-items-center mt-4 mb-2",children:[t.jsx(N,{xs:"12",md:"8",className:"d-flex flex-wrap align-items-center",children:t.jsxs(U,{className:"me-3",style:{width:"350px"},children:[t.jsx(Pe,{children:t.jsx(h,{icon:je})}),t.jsx(ye,{style:{width:"80px",height:"35px",display:"inline-block",fontSize:"0.8rem"},placeholder:"Buscar por año, grado o sección",onChange:co,value:oe,onPaste:k,onCopy:k}),t.jsxs(g,{style:{border:"1px solid #ccc",transition:"all 0.1s ease-in-out",backgroundColor:"#F3F4F7",color:"#343a40",height:"35px"},onClick:()=>{Je(""),re(1)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#E0E0E0",e.currentTarget.style.color="black"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F3F4F7",e.currentTarget.style.color="#343a40"},children:[t.jsx(h,{icon:_e})," Limpiar"]})]})}),t.jsx(N,{xs:"12",md:"4",className:"text-md-end mt-2 mt-md-0",children:t.jsx(U,{style:{width:"auto",display:"inline-block"},children:t.jsxs("div",{className:"d-inline-flex align-items-center",children:[t.jsx("span",{style:{fontSize:"0.85rem"},children:"Mostrar "}),t.jsxs(Me,{style:{width:"80px",height:"35px",display:"inline-block",textAlign:"center"},onChange:e=>{const r=Number(e.target.value);Dt(r),re(1)},value:I,children:[t.jsx("option",{value:"5",children:"5"}),t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"20",children:"20"})]}),t.jsx("span",{style:{fontSize:"0.85rem"},children:" registros"})]})})})]}),t.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowX:"auto",overflowY:"auto",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},children:t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"SECCIÓN"}),t.jsx(x,{children:"GRADO"}),t.jsx(x,{children:"TOTAL ALUMNOS"}),t.jsx(x,{children:"AÑO ACADÉMICO"}),t.jsx(x,{children:"ACCIÓN"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.85rem"},children:P.length>0?P.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Seccion}),t.jsx(c,{children:e.Grado}),t.jsx(c,{children:e.Total_Alumnos}),t.jsx(c,{children:e.Anio_Academico}),t.jsx(c,{children:t.jsx(g,{size:"sm",style:{backgroundColor:"#F0F4F3",color:"#153E21",border:"1px solid #A2B8A9",borderRadius:"6px",padding:"5px 12px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:o=>o.target.style.backgroundColor="#dce3dc",onMouseLeave:o=>o.target.style.backgroundColor="#F0F4F3",onClick:()=>{Ht(e.Cod_secciones,e.Seccion,e.Grado,e.Anio_Academico)},children:"Ver Asignaturas"})})]},r)):t.jsx(b,{children:t.jsx(c,{colSpan:"5",children:"No se encontraron resultados"})})})]})}),t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"16px"},children:[t.jsxs(De,{"aria-label":"Page navigation",style:{display:"flex",gap:"10px"},children:[t.jsx(g,{style:{backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:O===1,onClick:()=>st(O-1),children:"Anterior"}),t.jsx(g,{style:{marginLeft:"10px",backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:O===Math.ceil(ie.length/I),onClick:()=>st(O+1),children:"Siguiente"})]}),t.jsxs("span",{style:{marginLeft:"10px"},children:["Página ",O," de ",Math.ceil(ie.length/I)]})]})]}),!Y&&Se==="asignaturas"&&t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"align-items-center mb-5",children:t.jsxs(N,{xs:"12",className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-3",children:[t.jsxs(g,{className:"btn btn-sm d-flex align-items-center gap-1 rounded shadow",onMouseEnter:e=>e.currentTarget.style.backgroundColor="#4B4B4B",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#656565",style:{backgroundColor:"#656565",color:"#FFFFFF",padding:"6px 12px",fontSize:"0.9rem",transition:"background-color 0.2s ease, box-shadow 0.3s ease",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},onClick:Yt,children:[t.jsx(h,{icon:X})," Volver a Secciones"]}),t.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center flex-grow-1",children:[t.jsx("h3",{className:"text-center pb-2 mb-0",style:{borderBottom:"2px solid #4CAF50",margin:"0 auto",fontSize:"1.5rem"},children:"Asignaturas"}),t.jsxs("div",{className:"d-flex justify-content-center align-items-center mt-2",children:[t.jsxs("div",{className:"me-3",style:{fontSize:"1rem"},children:["Grado: ",C]}),t.jsxs("div",{className:"me-3",style:{fontSize:"1rem"},children:["Sección: ",f]}),t.jsxs("div",{className:"me-3",style:{fontSize:"1rem"},children:["Año: ",y]})]})]}),t.jsxs(ge,{className:"btn-sm d-flex align-items-center gap-1 rounded shadow",children:[t.jsxs(he,{style:{backgroundColor:"#6C8E58",color:"white",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#5A784C",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#6C8E58",e.currentTarget.style.boxShadow="none"},children:[t.jsx(h,{icon:be})," Reporte"]}),t.jsxs(me,{style:{position:"absolute",zIndex:1050,backgroundColor:"#fff",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:[t.jsxs(D,{onClick:so,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",borderBottom:"1px solid #eaeaea",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:fe,size:"sm"})," Abrir en PDF"]}),t.jsxs(D,{onClick:oo,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:Ce,size:"sm"})," Descargar Excel"]})]})]})]})}),t.jsxs(B,{className:"align-items-center mt-4 mb-2",children:[t.jsx(N,{xs:"12",md:"8",className:"d-flex flex-wrap align-items-center",children:t.jsxs(U,{className:"me-3",style:{width:"350px"},children:[t.jsx(Pe,{children:t.jsx(h,{icon:je})}),t.jsx(ye,{style:{width:"80px",height:"35px",display:"inline-block",fontSize:"0.8rem"},placeholder:"Buscar asignatura...",onChange:xo,value:Ke,onPaste:k,onCopy:k}),t.jsxs(g,{style:{border:"1px solid #ccc",transition:"all 0.1s ease-in-out",backgroundColor:"#F3F4F7",color:"#343a40",height:"35px"},onClick:()=>{Xe(""),ae(1)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#E0E0E0",e.currentTarget.style.color="black"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F3F4F7",e.currentTarget.style.color="#343a40"},children:[t.jsx(h,{icon:_e})," Limpiar"]})]})}),t.jsx(N,{xs:"12",md:"4",className:"text-md-end mt-2 mt-md-0",children:t.jsx(U,{style:{width:"auto",display:"inline-block"},children:t.jsxs("div",{className:"d-inline-flex align-items-center",children:[t.jsx("span",{style:{fontSize:"0.85rem"},children:"Mostrar "}),t.jsxs(Me,{style:{width:"80px",height:"35px",display:"inline-block",textAlign:"center"},onChange:e=>{const r=Number(e.target.value);$t(r),ae(1)},value:G,children:[t.jsx("option",{value:"5",children:"5"}),t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"20",children:"20"})]}),t.jsx("span",{style:{fontSize:"0.85rem"},children:" registros"})]})})})]}),t.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowX:"auto",overflowY:"auto",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},children:t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"ASIGNATURA"}),t.jsx(x,{children:"DESCRIPCIÓN"}),t.jsx(x,{className:"text-center align-middle",children:"PROMEDIO NOTAS"}),t.jsx(x,{children:"ACCIÓN"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.85rem"},children:_.length>0?_.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Nombre_asignatura}),t.jsx(c,{children:e.Descripcion_asignatura}),t.jsx(c,{className:"text-center align-middle",children:e.Promedio_Notas}),t.jsx(c,{children:t.jsx(g,{style:{backgroundColor:"#F0F4F3",color:"#153E21",border:"1px solid #A2B8A9",borderRadius:"6px",padding:"5px 12px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},size:"sm",onMouseEnter:o=>o.target.style.backgroundColor="#dce3dc",onMouseLeave:o=>o.target.style.backgroundColor="#F0F4F3",onClick:()=>Ut(e.Cod_seccion_asignatura,e.Nombre_asignatura),children:"Gestionar Notas"})})]},r)):t.jsx(b,{children:t.jsx(c,{colSpan:"5",children:"No se encontraron resultados"})})})]})}),t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"16px"},children:[t.jsxs(De,{"aria-label":"Page navigation",style:{display:"flex",gap:"10px"},children:[t.jsx(g,{style:{backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:V===1,onClick:()=>it(V-1),children:"Anterior"}),t.jsx(g,{style:{marginLeft:"10px",backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:V===Math.ceil(le.length/G),onClick:()=>it(V+1),children:"Siguiente"})]}),t.jsxs("span",{style:{marginLeft:"10px"},children:["Página ",V," de ",Math.ceil(le.length/G)]})]})]}),!Y&&Se==="promedios"&&t.jsxs(t.Fragment,{children:[t.jsx(B,{className:"align-items-center mb-5",children:t.jsxs(N,{xs:"12",className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-3",children:[t.jsxs(g,{className:"btn btn-sm d-flex align-items-center gap-1 rounded shadow",onMouseEnter:e=>e.currentTarget.style.backgroundColor="#4B4B4B",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#656565",style:{backgroundColor:"#656565",color:"#FFFFFF",padding:"6px 12px",fontSize:"0.9rem",transition:"background-color 0.2s ease, box-shadow 0.3s ease",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},onClick:qt,children:[t.jsx(h,{icon:X})," Volver a Asignaturas"]}),t.jsxs("div",{className:"d-flex flex-column justify-content-center align-items-center flex-grow-1",children:[t.jsx("h4",{className:"text-center pb-2 mb-0",style:{borderBottom:"2px solid #4CAF50",margin:"0 auto",fontSize:"1.5rem"},children:"Promedios - Asignatura"}),t.jsxs("div",{className:"d-flex flex-wrap justify-content-center align-items-center mt-2",children:[t.jsxs("div",{className:"me-3",style:{fontSize:"1rem"},children:["Grado: ",C]}),t.jsxs("div",{className:"me-3",style:{fontSize:"1rem"},children:["Sección: ",f]}),t.jsxs("div",{className:"me-3",style:{fontSize:"1rem"},children:["Año: ",y]}),t.jsxs("div",{style:{fontSize:"1rem"},children:["Asignatura: ",S]})]})]}),ht&&t.jsxs(g,{className:"btn btn-sm d-flex align-items-center gap-1 rounded shadow",onClick:()=>Lt(T),onMouseEnter:e=>e.currentTarget.style.backgroundColor="#3C4B43",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#4B6251",style:{backgroundColor:"#4B6251",color:"#FFFFFF",padding:"5px 10px",fontSize:"0.9rem"},children:[t.jsx(h,{icon:So,className:"me-2"}),"Nuevo"]}),t.jsxs(ge,{className:"btn-sm d-flex align-items-center gap-1 rounded shadow",children:[t.jsxs(he,{style:{backgroundColor:"#6C8E58",color:"white",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#5A784C",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#6C8E58",e.currentTarget.style.boxShadow="none"},children:[t.jsx(h,{icon:be})," Reporte"]}),t.jsxs(me,{style:{position:"absolute",zIndex:1050,backgroundColor:"#fff",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:[t.jsxs(D,{onClick:ao,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",borderBottom:"1px solid #eaeaea",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:fe,size:"sm"})," Abrir en PDF"]}),t.jsxs(D,{onClick:ro,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:Ce,size:"sm"})," Descargar Excel"]})]})]})]})}),t.jsxs(B,{className:"align-items-center mt-4 mb-2",children:[t.jsx(N,{xs:"12",md:"8",className:"d-flex flex-wrap align-items-center",children:t.jsxs(U,{className:"me-3",style:{width:"350px"},children:[t.jsx(Pe,{children:t.jsx(h,{icon:je})}),t.jsx(ye,{style:{width:"80px",height:"35px",display:"inline-block",fontSize:"0.8rem"},placeholder:"Buscar parcial...",onChange:go,value:Qe,onPaste:k,onCopy:k}),t.jsxs(g,{style:{border:"1px solid #ccc",transition:"all 0.1s ease-in-out",backgroundColor:"#F3F4F7",color:"#343a40",height:"35px"},onClick:()=>{et(""),se(1)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#E0E0E0",e.currentTarget.style.color="black"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F3F4F7",e.currentTarget.style.color="#343a40"},children:[t.jsx(h,{icon:_e})," Limpiar"]})]})}),t.jsx(N,{xs:"12",md:"4",className:"text-md-end mt-2 mt-md-0",children:t.jsx(U,{style:{width:"auto",display:"inline-block"},children:t.jsxs("div",{className:"d-inline-flex align-items-center",children:[t.jsx("span",{style:{fontSize:"0.85rem"},children:"Mostrar "}),t.jsxs(Me,{style:{width:"80px",height:"35px",display:"inline-block",textAlign:"center"},onChange:e=>{const r=Number(e.target.value);Rt(r),se(1)},value:W,children:[t.jsx("option",{value:"5",children:"5"}),t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"20",children:"20"})]}),t.jsx("span",{style:{fontSize:"0.85rem"},children:" registros"})]})})})]}),t.jsx("div",{className:"table-responsive",style:{maxHeight:"400px",overflowX:"auto",overflowY:"auto",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},children:t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"PARCIAL"}),t.jsx(x,{className:"text-center align-middle",children:"PROMEDIO"}),t.jsx(x,{className:"text-center align-middle",children:"TOTAL APROBADOS"}),t.jsx(x,{className:"text-center align-middle",children:"TOTAL REPROBADOS"}),t.jsx(x,{className:"text-center align-middle",children:"ACCIÓN"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.85rem"},children:M.length>0?M.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.NombreParcial}),t.jsx(c,{className:"text-center align-middle",children:e.PromedioGeneral}),t.jsx(c,{className:"text-center align-middle",children:e.TotalAprobados}),t.jsx(c,{className:"text-center align-middle",children:e.TotalReprobados}),t.jsxs(c,{style:{fontSize:"0.85rem",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[mt&&t.jsx(g,{onClick:()=>It(T,e.CodParcial,e.NombreParcial),onMouseEnter:o=>{o.currentTarget.style.boxShadow="0px 4px 10px rgba(249, 182, 78, 0.6)",o.currentTarget.style.color="#000000"},onMouseLeave:o=>{o.currentTarget.style.boxShadow="none",o.currentTarget.style.color="#5C4044"},style:{backgroundColor:"#F9B64E",color:"#5C4044",border:"none",transition:"all 0.2s ease",padding:"5px 10px",height:"38px",width:"45px"},children:t.jsx(h,{icon:pt})}),t.jsx(g,{onClick:()=>Wt(E,T,e.CodParcial,e.NombreParcial),onMouseEnter:o=>{o.currentTarget.style.boxShadow="0px 4px 10px rgba(93, 138, 168, 0.6)",o.currentTarget.style.color="#000000"},onMouseLeave:o=>{o.currentTarget.style.boxShadow="none",o.currentTarget.style.color="#5C4044"},style:{backgroundColor:"#5D8AA8",marginRight:"10px",color:"#5C4044",border:"none",transition:"all 0.2s ease",padding:"5px 10px",height:"38px",width:"45px"},children:t.jsx(h,{icon:wo})})]})]},r)):t.jsx(b,{children:t.jsx(c,{colSpan:"5",children:"No se encontraron resultados"})})})]})}),t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"16px"},children:[t.jsxs(De,{"aria-label":"Page navigation",style:{display:"flex",gap:"10px"},children:[t.jsx(g,{style:{backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:H===1,onClick:()=>ct(H-1),children:"Anterior"}),t.jsx(g,{style:{marginLeft:"10px",backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:H===Math.ceil(ce.length/W),onClick:()=>ct(H+1),children:"Siguiente"})]}),t.jsxs("span",{style:{marginLeft:"10px"},children:["Página ",H," de ",Math.ceil(ce.length/W)]})]})]}),We&&t.jsxs($e,{visible:We,size:"xl",backdrop:"static",children:[t.jsxs(Re,{closeButton:!1,children:[t.jsx(Ie,{children:" Registrar Notas"}),t.jsx(g,{type:"button",className:"btn-close",onClick:ze})]}),t.jsxs(Be,{className:"text-center",children:[L==="parciales"&&t.jsxs(t.Fragment,{children:[t.jsx("h5",{className:"mb-4",children:"Selecciona un Parcial"}),Ve.length>0?t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"NOMBRE PARCIAL"}),t.jsx(x,{children:"ACCIÓN"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.9rem"},children:Ve.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.nombre}),t.jsx(c,{children:t.jsx(g,{size:"sm",style:{backgroundColor:"#F0F4F3",color:"#153E21",border:"1px solid #A2B8A9",borderRadius:"6px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:o=>o.target.style.backgroundColor="#dce3dc",onMouseLeave:o=>o.target.style.backgroundColor="#F0F4F3",onClick:()=>Zt(e),children:"Ver Actividades"})})]},r))})]}):t.jsx("p",{className:"text-center text-muted",children:" No hay parciales disponibles, aún no se han asignado actividades"})]}),L==="actividades"&&t.jsxs(t.Fragment,{children:[t.jsxs("h5",{className:"mb-4",children:["Listado de Actividades del Parcial: ",zt]}),t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"NOMBRE ACTIVIDAD"}),t.jsx(x,{children:"DESCRIPCIÓN"}),t.jsx(x,{children:"FECHA INICIO"}),t.jsx(x,{children:"FECHA FIN"}),t.jsx(x,{children:"VALOR"}),t.jsx(x,{children:"ACCIÓN"})]})}),t.jsxs(z,{className:"text-center",style:{fontSize:"0.9rem"},children:[Oe.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Nombre_actividad_academica}),t.jsx(c,{children:e.Descripcion_actividad}),t.jsx(c,{children:ne(e.Fechayhora_Inicio)}),t.jsx(c,{children:ne(e.Fechayhora_Fin)}),t.jsx(c,{children:e.Valor}),t.jsx(c,{children:e.EstadoCalificacion==="Calificada"?t.jsx(g,{size:"sm",disabled:!0,style:{backgroundColor:"#d3d3d3",color:"#000000",border:"1px solid #A9A7A8",borderRadius:"6px",padding:"5px 12px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",cursor:"not-allowed"},children:"Calificada"}):t.jsx(g,{size:"sm",style:{backgroundColor:"#F0F4F3",color:"#153E21",border:"1px solid #A2B8A9",borderRadius:"6px",padding:"5px 12px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:o=>o.target.style.backgroundColor="#dce3dc",onMouseLeave:o=>o.target.style.backgroundColor="#F0F4F3",onClick:()=>Kt(e),children:"Calificar"})})]},e.Cod_actividad_asignatura)),t.jsxs(b,{children:[t.jsx(c,{colSpan:5,style:{fontWeight:"bold",textAlign:"right"},children:"Total"}),t.jsx(c,{style:{fontWeight:"bold"},children:Oe.reduce((e,r)=>e+parseFloat(r.Valor||0),0).toFixed(2)}),t.jsx(c,{})]})]})]})]}),L==="estudiantes"&&t.jsxs(t.Fragment,{children:[t.jsxs("h5",{className:"mb-4",children:["Calificar Actividad: ",m==null?void 0:m.Nombre_actividad_academica]}),t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"NOMBRE DEL ESTUDIANTE"}),t.jsx(x,{children:"NOTA"}),t.jsx(x,{children:"OBSERVACIÓN"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.9rem"},children:Z.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Nombre_Completo}),t.jsx(c,{children:t.jsx("input",{type:"number",className:"form-control",placeholder:`Máx: ${m==null?void 0:m.Valor}`,value:e.nota!==void 0&&e.nota!==null?e.nota:"",onChange:o=>{const n=o.target.value;if(n===""){const a=Z.map(l=>l.cod_persona===e.cod_persona?{...l,nota:""}:l);J(a);return}const s=parseFloat(n);if(isNaN(s))return;if(s<0){u.fire("Nota inválida","La nota no puede ser negativa.","info");return}if(s>(m==null?void 0:m.Valor)){u.fire("Nota inválida",`La nota no puede ser mayor a ${m==null?void 0:m.Valor}.`,"info");return}const i=Z.map(a=>a.cod_persona===e.cod_persona?{...a,nota:s}:a);J(i)},min:"0",step:"0.01"})}),t.jsx(c,{children:t.jsx("textarea",{className:"form-control",placeholder:"Ingrese observación",value:e.observacion||"",style:{height:"38px"},onChange:o=>{const n=o.target.selectionStart,s=o.target.value;if(s.length>60){u.fire({icon:"info",title:"Límite de caracteres alcanzado",text:"La observación no puede tener más de 60 caracteres."});return}const i=Z.map(a=>a.cod_persona===e.cod_persona?{...a,observacion:s}:a);rt(o,a=>{const l=i.map(d=>d.cod_persona===e.cod_persona?{...d,observacion:a}:d);J(l),requestAnimationFrame(()=>{o.target.setSelectionRange(n,n)})})},onCopy:k,onPaste:k})})]},e.cod_persona))})]})]})]}),t.jsxs(Le,{children:[L==="actividades"&&t.jsxs(g,{onClick:Jt,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#4B4B4B",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#656565",style:{backgroundColor:"#656565",color:"#FFFFFF",transition:"background-color 0.2s ease, box-shadow 0.3s ease",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},children:[t.jsx(h,{icon:X}),"Volver a Parciales"]}),L==="estudiantes"&&t.jsxs(g,{onClick:Qt,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#4B4B4B",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#656565",style:{backgroundColor:"#656565",color:"#FFFFFF",transition:"background-color 0.2s ease, box-shadow 0.3s ease",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},children:[t.jsx(h,{icon:X}),"Volver a Actividades"]}),L==="estudiantes"&&t.jsxs(g,{onClick:Vt,onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#3C4B43"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#4B6251"},style:{backgroundColor:"#4B6251",color:"#FFFFFF",padding:"6px 12px",transition:"background-color 0.2s ease, box-shadow 0.3s ease"},children:[t.jsx(h,{icon:Ao})," Guardar"]}),t.jsx(g,{color:"secondary",onClick:ze,children:"Cerrar"})]})]}),Ye&&t.jsxs($e,{visible:Ye,size:"xl",backdrop:"static",children:[t.jsxs(Re,{closeButton:!1,children:[t.jsx(Ie,{children:"Actualizar Notas "}),t.jsx(g,{type:"button",className:"btn-close",onClick:Ee})]}),t.jsxs(Be,{className:"text-center",children:[te==="activid"&&t.jsxs(t.Fragment,{children:[t.jsxs("h5",{className:"mb-4",children:["Listado de Actividades del Parcial: ",ke]}),t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"NOMBRE ACTIVIDAD"}),t.jsx(x,{children:"DESCRIPCIÓN"}),t.jsx(x,{children:"FECHA INICIO"}),t.jsx(x,{children:"FECHA FIN"}),t.jsx(x,{children:"VALOR"}),t.jsx(x,{children:"ACCIÓN"})]})}),t.jsxs(z,{className:"text-center",style:{fontSize:"0.9rem"},children:[Ge.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Nombre_actividad_academica}),t.jsx(c,{children:e.Descripcion_actividad}),t.jsx(c,{children:ne(e.Fechayhora_Inicio)}),t.jsx(c,{children:ne(e.Fechayhora_Fin)}),t.jsx(c,{children:e.Valor}),t.jsx(c,{children:t.jsx(g,{size:"sm",style:{backgroundColor:"#F0F4F3",color:"#153E21",border:"1px solid #A2B8A9",borderRadius:"6px",padding:"5px 12px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:o=>o.target.style.backgroundColor="#dce3dc",onMouseLeave:o=>o.target.style.backgroundColor="#F0F4F3",onClick:()=>Xt(e),children:"Calificar"})})]},e.Cod_actividad_asignatura)),t.jsxs(b,{children:[t.jsx(c,{colSpan:5,style:{fontWeight:"bold",textAlign:"right"},children:"Total"}),t.jsx(c,{style:{fontWeight:"bold"},children:Ge.reduce((e,r)=>e+parseFloat(r.Valor||0),0).toFixed(2)}),t.jsx(c,{})]})]})]})]}),te==="estudiant"&&t.jsxs(t.Fragment,{children:[t.jsxs("h5",{className:"mb-4",children:["Calificar Actividad: ",m==null?void 0:m.Nombre_actividad_academica]}),t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"NOMBRE DEL ESTUDIANTE"}),t.jsx(x,{children:"NOTA"}),t.jsx(x,{children:"OBSERVACIÓN"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.9rem"},children:$.length===0?t.jsx(b,{children:t.jsx(c,{colSpan:4,className:"text-center",children:t.jsx("p",{children:"No hay notas disponibles para esta actividad."})})}):$.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Nombre_Completo}),t.jsx(c,{children:t.jsx("input",{type:"number",className:"form-control",placeholder:`Máx: ${m==null?void 0:m.Valor}`,value:e.Nota!==void 0&&e.Nota!==null?e.Nota:"",onChange:o=>{const n=o.target.value;if(n===""||!isNaN(n)){const s=parseFloat(n);if(s<0){u.fire("Nota inválida","La nota no puede ser negativa.","info");return}if(s>(m==null?void 0:m.Valor)){u.fire("Nota inválida",`La nota no puede ser mayor a ${m==null?void 0:m.Valor}.`,"info");return}const i=$.map(a=>a.Cod_nota===e.Cod_nota?{...a,Nota:s}:a);ee(i)}},step:"0.01",min:"0"})}),t.jsx(c,{children:t.jsx("textarea",{className:"form-control",placeholder:"Ingrese observación",value:e.Observacion||"",style:{height:"38px"},onChange:o=>{const n=o.target.selectionStart;rt(o,s=>{const i=$.map(a=>a.Cod_nota===e.Cod_nota?{...a,Observacion:s}:a);ee(i),requestAnimationFrame(()=>{o.target.setSelectionRange(n,n)})})},onCopy:k,onPaste:k})})]},e.Cod_nota))})]})]})]}),t.jsxs(Le,{children:[te==="estudiant"&&t.jsxs(g,{onClick:eo,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#4B4B4B",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#656565",style:{backgroundColor:"#656565",color:"#FFFFFF",transition:"background-color 0.2s ease, box-shadow 0.3s ease",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"},children:[t.jsx(h,{icon:X}),"Volver a Actividades"]}),te==="estudiant"&&t.jsxs(g,{onClick:Gt,onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#b28541"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#9f7536"},style:{backgroundColor:"#9f7536",color:"#FFFFFF"},children:[t.jsx(h,{icon:pt})," Actualizar"]}),t.jsx(g,{color:"secondary",onClick:Ee,children:"Cerrar"})]})]}),t.jsxs($e,{visible:Et,onClose:()=>{Ae(!1),Te("")},size:"xl",backdrop:"static",children:[t.jsx(Re,{closeButton:!0,children:t.jsx(Ie,{children:"Detalles de Estudiantes"})}),t.jsxs(Be,{children:[t.jsxs(B,{className:"mb-3 justify-content-center align-items-center",children:[t.jsxs(N,{xs:"12",md:"6",className:"d-flex align-items-center",children:[t.jsx(h,{icon:je,style:{marginRight:"8px",fontSize:"1.2rem",color:"#6C8E58"}}),t.jsx(ye,{placeholder:"Buscar por nombre",value:tt,onChange:mo,style:{fontSize:"0.85rem",flex:1}})]}),t.jsx(N,{xs:"auto",style:{zIndex:1050},children:t.jsxs(ge,{children:[t.jsxs(he,{style:{backgroundColor:"#6C8E58",color:"white",fontSize:"0.85rem",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#5A784C",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#6C8E58",e.currentTarget.style.boxShadow="none"},children:[t.jsx(h,{icon:be})," Reporte"]}),t.jsxs(me,{children:[t.jsxs(D,{onClick:io,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",borderBottom:"1px solid #eaeaea",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:fe,size:"sm"})," Abrir en PDF"]}),t.jsxs(D,{onClick:lo,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[t.jsx(h,{icon:Ce,size:"sm"})," Descargar Excel"]})]})]})})]}),Y?t.jsx("div",{className:"text-center my-5",children:t.jsx(ut,{color:"primary","aria-label":"Cargando estudiantes..."})}):dt.length>0?t.jsxs(v,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[t.jsx(F,{className:"sticky-top bg-light text-center",style:{fontSize:"0.8rem"},children:t.jsxs(b,{children:[t.jsx(x,{children:"#"}),t.jsx(x,{children:"IDENTIDAD"}),t.jsx(x,{children:"NOMBRE DEL ESTUDIANTE"}),t.jsx(x,{children:"NOTA TOTAL"}),t.jsx(x,{children:"ESTADO"})]})}),t.jsx(z,{className:"text-center",style:{fontSize:"0.9rem"},children:dt.map((e,r)=>t.jsxs(b,{children:[t.jsx(c,{children:r+1}),t.jsx(c,{children:e.Identidad}),t.jsx(c,{children:e.NombreCompleto}),t.jsxs(c,{children:[`${e.NotaTotal} %`," "]}),t.jsx(c,{children:e.EstadoNota})]},e.CodPersona))})]}):t.jsx("p",{className:"text-center",children:"No se encontraron estudiantes."})]}),t.jsx(Le,{children:t.jsx(g,{color:"secondary",onClick:()=>{Ae(!1),Te("")},children:"Cerrar"})})]})]})};export{ir as default};

import{r as u,o as vo,j as e}from"./index-SVRFFNc9.js";import{C as T}from"./index.esm-DWwMdKxH.js";import{E as So}from"./jspdf.plugin.autotable-gke1D7B3.js";import{S as I}from"./sweetalert2.esm.all-D3pEHXw3.js";import{u as $,a as Po}from"./xlsx-lwdk4T0U.js";import{F as Do}from"./FileSaver.min-DN8zk8MP.js";import{l as Eo}from"./logo_saint_patrick-xw7Wl8f3.js";import{u as To}from"./usePermission-BCWksQX7.js";import wo from"./AccessDenied-yaDW3Jao.js";import{C as Uo}from"./CContainer-BdNP0s3v.js";import{a as b}from"./CButton-D9GPTbB6.js";import{C as Io,a as zo,b as Mo,c as qe}from"./CDropdownToggle-DlfIUTmX.js";import{C as g}from"./CInputGroup-D-McUFva.js";import{C as x}from"./CInputGroupText-Cfu0fzaY.js";import{C as N}from"./CFormInput-B_gylY64.js";import{C as Ao,a as ko,b as ce,c as P,d as Bo,e as v}from"./CTable-98qqrSRH.js";import{c as Fo}from"./cil-check-circle-BlU9eaow.js";import{c as qo}from"./cil-x-circle-Bi9E-sdv.js";import{c as Lo}from"./cil-pen-53d2I-C-.js";import{c as $o}from"./cil-trash-CBbKHhHb.js";import{c as Yo}from"./cil-people-DQU-yEHN.js";import{c as Oo,a as Ro}from"./cil-history-D9SF-KFC.js";import{C as Ko}from"./CPagination-UopCEeNZ.js";import{C as le,a as de,b as pe,c as me}from"./CModalHeader-Bhtr3bZe.js";import{C as ue}from"./CModalTitle-M2mBvD_5.js";import{C as Le}from"./CForm-CYRkMwLo.js";import{C as A}from"./CFormSelect-CzT7g5tb.js";import{C as $e}from"./CFormCheck-Dbe1knc1.js";import{c as oe}from"./cil-search-CDkY_4k-.js";import{c as Ye}from"./cil-save-CHBg7z_U.js";import{C as Wo,a as Oe}from"./CRow-Bf67u6lu.js";import"./CConditionalPortal-DwBsYzTA.js";import"./CFormControlWrapper-OEJgTi6e.js";import"./CFormControlValidation-CtDkyDfm.js";import"./CFormLabel-szm2Dda9.js";import"./CBackdrop-BbuVwMMD.js";const Br=()=>{var Be,Fe;const{canSelect:Re,canDelete:Go,canInsert:Ho,canUpdate:Zo}=To("ListaPersonas"),[Vo,_e]=u.useState(!1),[z,Ke]=u.useState([]),[We,re]=u.useState(!1),[Ge,ne]=u.useState(!1),[He,Y]=u.useState(!1),[t,S]=u.useState({dni_persona:"",Nombre:"",Segundo_nombre:"",Primer_apellido:"",Segundo_apellido:"",direccion_persona:"",fecha_nacimiento:"",Estado_Persona:"",principal:"",cod_tipo_persona:"",cod_nacionalidad:"",cod_departamento:"",cod_municipio:"",cod_genero:""}),[s,C]=u.useState({cod_persona:"",dni_persona:"",Nombre:"",Segundo_nombre:"",Primer_apellido:"",Segundo_apellido:"",direccion_persona:"",fecha_nacimiento:"",Estado_Persona:"",cod_tipo_persona:"",principal:"",cod_nacionalidad:"",cod_departamento:"",cod_municipio:"",cod_genero:""});u.useState({dni_persona:"",Nombre:"",Segundo_nombre:"",Primer_apellido:"",Segundo_apellido:"",direccion_persona:"",fecha_nacimiento:"",Estado_Persona:"",cod_tipo_persona:"",cod_departamento:"",cod_municipio:"",cod_genero:"",principal:""});const[ge,Ze]=u.useState({}),[xe,he]=u.useState(""),[B,O]=u.useState(1),[F,Ve]=u.useState(10);u.useState(!1);const[D,Je]=u.useState([]),[M,Xe]=u.useState([]),[k,Qe]=u.useState([]),[Jo,eo]=u.useState(""),[R,fe]=u.useState([]),[je,be]=u.useState(""),[K,ae]=u.useState([]),[Ne,W]=u.useState(!1),[Xo,oo]=u.useState(null),[q,ro]=u.useState([]),[G,Ce]=u.useState(""),[H,ie]=u.useState([]),[ye,Z]=u.useState(!1),[Qo,no]=u.useState(null);new Date().getFullYear();const[i,c]=u.useState({dni_persona:"",Nombre:"",Segundo_nombre:"",Primer_apellido:"",Segundo_apellido:"",direccion_persona:"",fecha_nacimiento:"",Estado_Persona:"",principal:"",cod_tipo_persona:"",cod_nacionalidad:"",cod_departamento:"",cod_municipio:"",cod_genero:""});u.useState(!1),u.useState(null);const se=vo(),ao=o=>{console.log("Persona seleccionada en el componente origen:",o),se("/ListaEstructura",{state:{personaSeleccionada:o}})},io=o=>{console.log("Persona seleccionada en el componente origen:",o),se("/contacto",{state:{personaSeleccionada:o}})},so=o=>{console.log("Persona seleccionada en el componente origen:",o),se("/ListaHistoricoProc",{state:{personaSeleccionada:o}})},ve=o=>{if(!o)return"";const r=new Date(o),n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),p=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${p}`},Se=o=>(o=o.replace(/\D/g,""),o.length<=4?o:o.length<=8?`${o.slice(0,4)}-${o.slice(4)}`:`${o.slice(0,4)}-${o.slice(4,8)}-${o.slice(8,13)}`),_=o=>{o.preventDefault(),I.fire({icon:"warning",title:"Acción bloqueada",text:"Copiar y pegar no está permitido."})};u.useEffect(()=>{var o,r;if(z.length>0){const n=ve((o=z[0])==null?void 0:o.fecha_nacimiento);console.log("Fecha recibida:",(r=z[0])==null?void 0:r.fecha_nacimiento),C({...s,fecha_nacimiento:n}),eo(n)}},[z]);const Pe=()=>{S({dni_persona:"",Nombre:"",Segundo_nombre:"",Primer_apellido:"",Segundo_apellido:"",direccion_persona:"",fecha_nacimiento:"",Estado_Persona:"",cod_tipo_persona:"",principal:"",cod_nacionalidad:"",cod_departamento:"",cod_municipio:"",cod_genero:""})},De=()=>{C({cod_persona:"",dni_persona:"",Nombre:"",Segundo_nombre:"",Primer_apellido:"",Segundo_apellido:"",direccion_persona:"",fecha_nacimiento:"",Estado_Persona:"",cod_tipo_persona:"",principal:"",cod_nacionalidad:"",cod_departamento:"",cod_municipio:"",cod_genero:""})},Ee=(o,r,n={})=>{const{dni_persona:a="",Nombre:p="",Segundo_nombre:d="",Primer_apellido:l="",Segundo_apellido:m="",direccion_persona:w="",fecha_nacimiento:h="",Estado_Persona:f="",principal:y="",cod_tipo_persona:j="",cod_genero:U="",cod_nacionalidad:E="",cod_departamento:X="",cod_municipio:Q=""}=n;a||p||d||l||m||w||h||f||y||j||U||E||X||Q?I.fire({title:"¿Estás seguro?",text:"Si cierras este formulario, perderás todos los datos ingresados.",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, cerrar",cancelButtonText:"Cancelar"}).then(yo=>{yo.isConfirmed&&(r(),o(!1))}):o(!1)},to=o=>{console.log("Cod_nacionalidad de persona:",o.cod_nacionalidad);const r=o.fecha_nacimiento?ve(o.fecha_nacimiento):"",n=q.find(a=>a.Cod_nacionalidad===o.cod_nacionalidad);console.log("Nacionalidad seleccionada:",n),C({...o,fecha_nacimiento:r,buscadorNacionalidad:n?`${n.Id_nacionalidad.toUpperCase()} - ${n.pais_nacionalidad.toUpperCase()}`:""}),ne(!0)};u.useEffect(()=>{console.log("buscadorNacionalidad:",G)},[G]);const Te=()=>{Ee(ne,De,s)},co=()=>{re(!0)},we=()=>{Ee(re,Pe,t)},lo=o=>{Ze(o),Y(!0)},Ue=o=>{const r=o.target.value.toUpperCase();Ce(r);let n={...i};if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r))n.nacionalidad="La nacionalidad solo puede contener letras, acentos y espacios.";else if(/(.)\1{2,}/.test(r))n.nacionalidad="La nacionalidad no puede contener más de dos letras repetidas consecutivas.";else if(/\s{2,}/.test(r))n.nacionalidad="La nacionalidad no puede contener más de dos espacios consecutivos.";else if(r.trim())n.nacionalidad="";else{n.nacionalidad="La nacionalidad no puede estar vacía.",ie([]),Z(!1),c(n);return}if(c(n),r.trim()===""){ie([]),Z(!1);return}const a=q.filter(p=>p.pais_nacionalidad&&p.pais_nacionalidad.toUpperCase().includes(r)||p.Id_nacionalidad&&p.Id_nacionalidad.toUpperCase().includes(r));ie(a),Z(a.length>0)},Ie=o=>{Ce(`${o.Id_nacionalidad.toUpperCase()} - ${o.pais_nacionalidad.toUpperCase()}`),no(o.pais_nacionalidad.toUpperCase()),Z(!1),S(r=>({...r,cod_nacionalidad:o.Cod_nacionalidad})),console.log("Nacionalidad seleccionada:",nacionalidadSeleccionada)},V=o=>{const r=String.fromCharCode(o.which);(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)||/(.)\1{2,}/.test(o.target.value+r)||/\s{3,}/.test(o.target.value+r)||/\d/.test(r))&&o.preventDefault()},ze=o=>{const r=o.target.value.toUpperCase();if(be(r),r.trim()===""){ae([]),W(!1);return}let n={...i};if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r))n.municipio="El nombre del municipio solo puede contener letras, acentos y espacios.";else if(/(.)\1{2,}/.test(r))n.municipio="El nombre del municipio no puede contener más de dos letras repetidas consecutivas.";else if(/\s{2,}/.test(r))n.municipio="El nombre del municipio no puede contener más de dos espacios consecutivos.";else if(r.trim())n.municipio="";else{n.municipio="El nombre del municipio no puede estar vacío.",ae([]),W(!1),c(n);return}c(n);const a=R.filter(p=>p.Nombre_municipio&&p.Nombre_municipio.toUpperCase().includes(r)||p.Nombre_departamento&&p.Nombre_departamento.toUpperCase().includes(r));ae(a),W(a.length>0)},Me=o=>{be(`${o.Nombre_municipio.toUpperCase()} - ${o.Nombre_departamento.toUpperCase()}`),oo(o.Cod_municipio),S(r=>({...r,cod_municipio:o.Cod_municipio})),W(!1),console.log("Municipio seleccionado:",o)},J=async()=>{try{const r=await(await fetch("http://localhost:4000/api/persona/verPersonas")).json();console.log("Datos recibidos del servidor:",r);const n=r.map((a,p)=>({...a,originalIndex:p+1}));console.log("Datos con índice añadido:",n),Ke(n)}catch(o){console.error("Error al obtener las personas:",o)}},po=async()=>{try{const r=await(await fetch("http://localhost:4000/api/nacionalidad/verNacionalidades")).json();console.log("Datos recibidos de nacionalidad:",r),ro(r)}catch(o){console.error("Error al obtener los nacionalidad:",o)}},mo=async()=>{try{const r=await(await fetch("http://localhost:4000/api/persona/verMunicipios")).json();console.log("Datos recibidos de la API:",r),Array.isArray(r)&&Array.isArray(r[0])?fe(r[0]):(console.error("Formato de datos inesperado:",r),fe([]))}catch(o){console.error("Error al obtener los municipios:",o)}},uo=async()=>{try{const r=await(await fetch("http://localhost:4000/api/persona/verDepartamentos")).json();console.log("Datos recibidos de departamentos:",r),Qe(r)}catch(o){console.error("Error al obtener los departamentos:",o)}},_o=async()=>{try{const r=await(await fetch("http://localhost:4000/api/persona/verTipoPersona")).json();console.log("Datos recibidos de tipo de persona:",r),Je(r)}catch(o){console.error("Error al obtener los tipos de persona:",o)}},go=async()=>{try{const r=await(await fetch("http://localhost:4000/api/persona/verGeneros")).json();console.log("Datos recibidos de géneros:",r),Xe(r)}catch(o){console.error("Error al obtener los géneros:",o)}};u.useEffect(()=>{J(),uo(),po(),mo(),_o(),go()},[]);const xo=async()=>{const o=t.dni_persona.replace(/-/g,""),r={};/^\d{13}$/.test(o)||(r.dni_persona="El DNI debe tener exactamente 13 dígitos.");const n=parseInt(o.substring(0,4));(n<101||n>2e3)&&(r.dni_persona="Ingrese un DNI válido. Los primeros cuatro dígitos deben estar entre 0101 y 2000.");const a=parseInt(o.substring(4,8));if((a<1930||a>2020)&&(r.dni_persona="Ingrese un DNI válido. El año debe estar entre 1920 y 2020."),[{campo:t.Nombre,nombreCampo:"Nombre"},{campo:t.Primer_apellido,nombreCampo:"Primer apellido"}].forEach(({campo:d,nombreCampo:l})=>{(!d||d.length<2||d.length>50)&&(r[l]=`${l} debe tener entre 2 y 50 caracteres.`)}),!t.cod_genero||t.cod_genero===""){c(d=>({...d,cod_genero:"Debe seleccionar un género."}));return}if(!t.cod_tipo_persona||t.cod_tipo_persona===""){c(d=>({...d,cod_tipo_persona:"Debe seleccionar un tipo de persona."}));return}if(!t.Estado_Persona||t.Estado_Persona===""){c(d=>({...d,Estado_Persona:"Debe seleccionar un estado"}));return}if(!t.cod_nacionalidad||t.cod_nacionalidad===""){c(d=>({...d,cod_nacionalidad:"Debe seleccionar una nacionalidad."}));return}if(!t.cod_departamento||t.cod_departamento===""){c(d=>({...d,cod_departamento:"Debe seleccionar un departamento."}));return}if(!t.cod_municipio||t.cod_municipio===""){c(d=>({...d,cod_municipio:"Debe seleccionar un municipio."}));return}if(!t.fecha_nacimiento||t.fecha_nacimiento===""){c(d=>({...d,fecha_nacimiento:"Debe ingresar una fecha de nacimiento válida."}));return}if(Object.keys(r).length>0){c(r);return}console.log("Datos a enviar:",{dni_persona:o,Nombre:t.Nombre,Segundo_nombre:t.Segundo_nombre,Primer_apellido:t.Primer_apellido,Segundo_apellido:t.Segundo_apellido,direccion_persona:t.direccion_persona,fecha_nacimiento:t.fecha_nacimiento,Estado_Persona:t.Estado_Persona,principal:t.principal,cod_tipo_persona:t.cod_tipo_persona,cod_nacionalidad:t.cod_nacionalidad,cod_departamento:t.cod_departamento,cod_municipio:t.cod_municipio,cod_genero:t.cod_genero});try{const d=await fetch("http://localhost:4000/api/persona/crearPersona",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dni_persona:o,Nombre:t.Nombre,Segundo_nombre:t.Segundo_nombre,Primer_apellido:t.Primer_apellido,Segundo_apellido:t.Segundo_apellido,direccion_persona:t.direccion_persona,fecha_nacimiento:t.fecha_nacimiento,Estado_Persona:t.Estado_Persona,principal:t.principal,cod_tipo_persona:t.cod_tipo_persona,cod_nacionalidad:t.cod_nacionalidad,cod_departamento:t.cod_departamento,cod_municipio:t.cod_municipio,cod_genero:t.cod_genero})});if(d.ok)I.fire({icon:"success",title:"Creación exitosa",text:"La persona ha sido creada correctamente."}),re(!1),J(),Pe(),c({});else{const l=await d.json();l.errores?c(l.errores):I.fire({icon:"error",title:"Error",text:`No se pudo crear la persona. Detalle: ${l.mensaje}`})}}catch(d){console.error("Error al crear la persona:",d),I.fire({icon:"error",title:"Error",text:"Ocurrió un error al intentar crear la persona."})}},ho=async()=>{const o=s.dni_persona.replace(/-/g,""),r={};/^\d{13}$/.test(o)||(r.dni_persona="El DNI debe tener exactamente 13 dígitos.");const n=parseInt(o.substring(0,4));(n<101||n>2e3)&&(r.dni_persona="Ingrese un DNI válido. Los primeros cuatro dígitos deben estar entre 0101 y 2000.");const a=parseInt(o.substring(4,8)),p=new Date().getFullYear(),d=p-90,l=p-4;if((a<d||a>l)&&(r.dni_persona=`Ingrese un DNI válido. El año debe estar entre ${d} y ${l}.`),[{campo:s.Nombre,nombreCampo:"Nombre"},{campo:s.Primer_apellido,nombreCampo:"Primer apellido"}].forEach(({campo:h,nombreCampo:f})=>{(!h||h.length<2||h.length>50)&&(r[f]=`${f} debe tener entre 2 y 50 caracteres.`)}),!s.fecha_nacimiento||s.fecha_nacimiento==="")r.fecha_nacimiento="Debe ingresar una fecha de nacimiento válida.";else{const h=new Date(s.fecha_nacimiento),f=h.getFullYear(),y=("0"+(h.getMonth()+1)).slice(-2),j=("0"+h.getDate()).slice(-2),U=`${f}-${y}-${j}`;s.fecha_nacimiento=U,(f<d||f>l)&&(r.fecha_nacimiento=`La fecha de nacimiento debe estar entre los años ${d} y ${l}.`)}if([{field:s.cod_genero,fieldName:"cod_genero",errorMessage:"Debe seleccionar un género."},{field:s.cod_tipo_persona,fieldName:"cod_tipo_persona",errorMessage:"Debe seleccionar un tipo de persona."},{field:s.cod_nacionalidad,fieldName:"cod_nacionalidad",errorMessage:"Debe seleccionar una nacionalidad."},{field:s.cod_departamento,fieldName:"cod_departamento",errorMessage:"Debe seleccionar un departamento."},{field:s.cod_municipio,fieldName:"cod_municipio",errorMessage:"Debe seleccionar un municipio."}].forEach(({field:h,fieldName:f,errorMessage:y})=>{(!h||h==="")&&(r[f]=y)}),Object.keys(r).length>0){c(r),_e(!1);return}console.log("Datos a enviar:",{cod_persona:s.cod_persona,dni_persona:o,Nombre:s.Nombre,Segundo_nombre:s.Segundo_nombre,Primer_apellido:s.Primer_apellido,Segundo_apellido:s.Segundo_apellido,direccion_persona:s.direccion_persona,fecha_nacimiento:s.fecha_nacimiento,Estado_Persona:s.Estado_Persona,cod_tipo_persona:s.cod_tipo_persona,cod_nacionalidad:s.cod_nacionalidad,cod_departamento:s.cod_departamento,cod_municipio:s.cod_municipio,cod_genero:s.cod_genero,principal:s.principal});try{const h=await fetch(`http://localhost:4000/api/persona/actualizarPersona/${s.cod_persona}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cod_persona:s.cod_persona,dni_persona:o,Nombre:s.Nombre,Segundo_nombre:s.Segundo_nombre,Primer_apellido:s.Primer_apellido,Segundo_apellido:s.Segundo_apellido,direccion_persona:s.direccion_persona,fecha_nacimiento:s.fecha_nacimiento,Estado_Persona:s.Estado_Persona,cod_tipo_persona:s.cod_tipo_persona,cod_nacionalidad:s.cod_nacionalidad,cod_departamento:s.cod_departamento,cod_municipio:s.cod_municipio,cod_genero:s.cod_genero,principal:s.principal})});if(h.ok)I.fire({icon:"success",title:"Actualización exitosa",text:"La persona ha sido actualizada correctamente."}),ne(!1),De(),await J(),c({});else{const f=await h.json();f.errores?c(f.errores):I.fire({icon:"error",title:"Error",text:`No se pudo actualizar la persona. Detalle: ${f.mensaje}`})}}catch(h){console.error("Error al actualizar la persona:",h),I.fire({icon:"error",title:"Error",text:"Ocurrió un error al intentar actualizar la persona."})}finally{_e(!1)}},fo=async()=>{try{(await fetch(`http://localhost:4000/api/persona/eliminarPersona/${encodeURIComponent(ge.cod_persona)}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok?(J(),Y(!1),I.fire({icon:"success",title:"Eliminación exitosa",text:"La persona ha sido eliminada correctamente."})):I.fire({icon:"error",title:"Error",text:"No se pudo eliminar la persona."})}catch(o){console.error("Error al eliminar la persona:",o)}},jo=o=>{he(o.target.value),O(1)},L=(o=>z.map((r,n)=>({...r,originalIndex:n+1})).filter(r=>{var h,f,y,j,U;const n=((h=D.find(E=>E.Cod_tipo_persona===r.cod_tipo_persona))==null?void 0:h.Tipo.toUpperCase())||"N/D",a=((f=M.find(E=>E.Cod_genero===r.cod_genero))==null?void 0:f.Tipo_genero.toUpperCase())||"N/D",p=((y=q.find(E=>E.Cod_nacionalidad===r.cod_nacionalidad))==null?void 0:y.pais_nacionalidad.toUpperCase())||"N/D",d=((j=k.find(E=>E.Cod_departamento===r.cod_departamento))==null?void 0:j.Nombre_departamento.toUpperCase())||"N/D",l=((U=R.find(E=>E.cod_municipio===r.cod_municipio))==null?void 0:U.nombre_municipio.toUpperCase())||"N/D",m=r.fecha_nacimiento?new Date(r.fecha_nacimiento).toLocaleDateString("es-ES"):"N/D",w=r.Estado_Persona==="A"?"ACTIVO":"SUSPENDIDO";return r.dni_persona&&r.dni_persona.toUpperCase().includes(o.toUpperCase())||r.Nombre&&r.Nombre.toUpperCase().includes(o.toUpperCase())||r.Segundo_nombre&&r.Segundo_nombre.toUpperCase().includes(o.toUpperCase())||r.Primer_apellido&&r.Primer_apellido.toUpperCase().includes(o.toUpperCase())||r.Segundo_apellido&&r.Segundo_apellido.toUpperCase().includes(o.toUpperCase())||r.direccion_persona&&r.direccion_persona.toUpperCase().includes(o.toUpperCase())||m&&m.includes(o)||w&&w.includes(o.toUpperCase())||p&&p.includes(o.toUpperCase())||d&&d.includes(o.toUpperCase())||l&&l.includes(o.toUpperCase())||n&&n.includes(o.toUpperCase())||a&&a.includes(o.toUpperCase())||(r.principal?"SÍ":"NO").includes(o.toUpperCase())}))(xe),Ae=B*F,bo=Ae-F,te=L.slice(bo,Ae),ke=o=>{o>0&&o<=Math.ceil(L.length/F)&&O(o)},No=()=>{const o=z.map(l=>{var m,w,h,f,y;return{originalIndex:l.originalIndex,dni_persona:l.dni_persona?l.dni_persona.toUpperCase():"N/D",Nombre:l.Nombre?l.Nombre.toUpperCase():"N/D",Segundo_nombre:l.Segundo_nombre?l.Segundo_nombre.toUpperCase():"N/D",Primer_apellido:l.Primer_apellido?l.Primer_apellido.toUpperCase():"N/D",Segundo_apellido:l.Segundo_apellido?l.Segundo_apellido.toUpperCase():"N/D",direccion_persona:l.direccion_persona?l.direccion_persona.toUpperCase():"N/D",fecha_nacimiento:new Date(l.fecha_nacimiento).toLocaleDateString("en-CA"),principal:l.principal?"Sí":"No",Estado_Persona:l.Estado_Persona==="A"?"Activo":"Suspendido",nacionalidad:((m=q.find(j=>j.Cod_nacionalidad===l.cod_nacionalidad))==null?void 0:m.pais_nacionalidad.toUpperCase())||"N/D",departamento:((w=k.find(j=>j.Cod_departamento===l.cod_departamento))==null?void 0:w.Nombre_departamento.toUpperCase())||"N/D",municipio:((h=R.find(j=>j.cod_municipio===l.cod_municipio))==null?void 0:h.nombre_municipio.toUpperCase())||"N/D",tipo_persona:((f=D.find(j=>j.Cod_tipo_persona===l.cod_tipo_persona))==null?void 0:f.Tipo.toUpperCase())||"N/D",genero:((y=M.find(j=>j.Cod_genero===l.cod_genero))==null?void 0:y.Tipo_genero.toUpperCase())||"N/D"}}),r=$.json_to_sheet(o),n=$.decode_range(r["!ref"]);for(let l=n.s.c;l<=n.e.c;l++){const m=$.encode_col(l)+"1";r[m]&&(r[m].s={font:{bold:!0},fill:{fgColor:{rgb:"FFFF00"}},alignment:{horizontal:"center",vertical:"center"}})}const a=$.book_new();$.book_append_sheet(a,r,"Personas");const p=Po(a,{bookType:"xlsx",type:"array"}),d=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Do.saveAs(d,"reporte_personas.xlsx")},Co=()=>{const o=new So("l","mm","letter");if(!L||L.length===0){alert("No hay datos para exportar.");return}const r=new Image;r.src=Eo,r.onload=()=>{const n=o.internal.pageSize.width;o.addImage(r,"PNG",10,10,45,45),o.setFontSize(18),o.setTextColor(0,102,51),o.text("SAINT PATRICK'S ACADEMY",n/2,24,{align:"center"}),o.setFontSize(10),o.setTextColor(100),o.text("Casa Club del periodista, Colonia del Periodista",n/2,32,{align:"center"}),o.text("Teléfono: (504) 2234-8871",n/2,37,{align:"center"}),o.text("Correo: info@saintpatrickacademy.edu",n/2,42,{align:"center"}),o.setFontSize(14),o.setTextColor(0,102,51),o.text("Reporte de Personas",n/2,50,{align:"center"}),o.setLineWidth(.5),o.setDrawColor(0,102,51),o.line(10,60,n-10,60);const a=L.map((m,w)=>{var h,f,y,j,U,E,X,Q;return{index:(w+1).toString(),dni:((h=m.dni_persona)==null?void 0:h.toUpperCase())||"N/D",nombre:((f=m.Nombre)==null?void 0:f.toUpperCase())||"N/D",segundo_nombre:((y=m.Segundo_nombre)==null?void 0:y.toUpperCase())||"N/D",primer_apellido:((j=m.Primer_apellido)==null?void 0:j.toUpperCase())||"N/D",segundo_apellido:((U=m.Segundo_apellido)==null?void 0:U.toUpperCase())||"N/D",direccion:((E=m.direccion_persona)==null?void 0:E.toUpperCase())||"N/D",fecha_nacimiento:m.fecha_nacimiento?new Date(m.fecha_nacimiento).toLocaleDateString("es-ES"):"N/D",estado:m.Estado_Persona==="A"?"ACTIVO":"SUSPENDIDO",tipo_persona:((X=D.find(ee=>ee.Cod_tipo_persona===m.cod_tipo_persona))==null?void 0:X.Tipo.toUpperCase())||"N/D",genero:((Q=M.find(ee=>ee.Cod_genero===m.cod_genero))==null?void 0:Q.Tipo_genero.toUpperCase())||"N/D",principal:m.principal?"SÍ":"NO"}});o.autoTable({startY:65,margin:{left:3},columns:[{header:"#",dataKey:"index"},{header:"DNI",dataKey:"dni"},{header:"Primer Nombre",dataKey:"nombre"},{header:"Segundo Nombre",dataKey:"segundo_nombre"},{header:"Primer Apellido",dataKey:"primer_apellido"},{header:"Segundo Apellido",dataKey:"segundo_apellido"},{header:"Dirección",dataKey:"direccion"},{header:"Fecha Nacimiento",dataKey:"fecha_nacimiento"},{header:"Estado",dataKey:"estado"},{header:"Tipo Persona",dataKey:"tipo_persona"},{header:"Género",dataKey:"genero"},{header:"Principal",dataKey:"principal"}],body:a,headStyles:{fillColor:[0,102,51],textColor:[255,255,255],fontSize:7,halign:"center"},styles:{fontSize:6,cellPadding:3},columnStyles:{index:{cellWidth:15},dni:{cellWidth:25},nombre:{cellWidth:25},segundo_nombre:{cellWidth:25},primer_apellido:{cellWidth:25},segundo_apellido:{cellWidth:25},direccion:{cellWidth:30},fecha_nacimiento:{cellWidth:20},estado:{cellWidth:20},tipo_persona:{cellWidth:25},genero:{cellWidth:20},principal:{cellWidth:17}},alternateRowStyles:{fillColor:[240,248,255]},didDrawPage:m=>{const w=o.internal.getNumberOfPages(),h=o.internal.getCurrentPageInfo().pageNumber,f=o.internal.pageSize.height-10;o.setFontSize(10),o.setTextColor(0,102,51),o.text(`Página ${h} de ${w}`,n-10,f,{align:"right"});const y=new Date,j=y.toLocaleDateString("es-HN",{year:"numeric",month:"long",day:"numeric"}),U=y.toLocaleTimeString("es-HN",{hour:"2-digit",minute:"2-digit",second:"2-digit"});o.text(`Fecha de generación: ${j} Hora: ${U}`,10,f)}});const p=o.output("blob"),d=URL.createObjectURL(p);window.open("","_blank").document.write(`
      <html>
        <head><title>Reporte de Personas</title></head>
        <body style="margin:0;">
          <iframe width="100%" height="100%" src="${d}" frameborder="0"></iframe>
          <div style="position:fixed;top:10px;right:20px;">
            <button style="background-color: #6c757d; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;" 
              onclick="const a = document.createElement('a'); a.href='${d}'; a.download='Reporte_Personas.pdf'; a.click();">
              Descargar PDF
            </button>
            <button style="background-color: #6c757d; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer;" 
              onclick="window.print();">
              Imprimir PDF
            </button>
          </div>
        </body>
      </html>`)},r.onerror=()=>{alert("No se pudo cargar el logo.")}};return Re?e.jsxs(Uo,{children:[e.jsx("h1",{children:"Personas"}),e.jsxs("div",{className:"d-flex justify-content-end mb-3",children:[e.jsx(b,{style:{backgroundColor:"#4B6251",color:"white",marginRight:"10px"},onClick:()=>{co()},children:"+ Nueva"}),e.jsxs(Io,{children:[e.jsx(zo,{style:{backgroundColor:"#6C8E58",color:"white"},children:"Reporte"}),e.jsxs(Mo,{children:[e.jsx(qe,{onClick:Co,children:"Descargar en PDF"}),e.jsx(qe,{onClick:No,children:"Descargar en Excel"})]})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs(g,{style:{maxWidth:"400px"},children:[e.jsx(x,{children:"Buscar"}),e.jsx(N,{placeholder:"Buscar",onChange:jo,value:xe}),e.jsx(b,{style:{backgroundColor:"#cccccc",color:"black"},onClick:()=>{he(""),O(1)},children:"Limpiar"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("label",{htmlFor:"recordsPerPageSelect",className:"mr-2",children:"Mostrar"}),e.jsxs("select",{id:"recordsPerPageSelect",value:F,onChange:o=>{Ve(Number(o.target.value)),O(1)},children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:15,children:"15"}),e.jsx("option",{value:20,children:"20"})]}),e.jsx("span",{style:{marginLeft:"10px"},children:"registros"})]})]}),e.jsx("div",{className:"table-container",children:e.jsx("div",{style:{overflowX:"auto",overflowY:"auto",maxHeight:"500px"},children:e.jsxs(Ao,{striped:!0,bordered:!0,hover:!0,children:[e.jsx(ko,{children:e.jsxs(ce,{children:[e.jsx(P,{children:"#"}),e.jsx(P,{children:"DNI"}),e.jsx(P,{children:"Primer Nombre"}),e.jsx(P,{children:"Segundo Nombre"}),e.jsx(P,{children:"Primer Apellido"}),e.jsx(P,{children:"Segundo Apellido"}),e.jsx(P,{children:"Dirección"}),e.jsx(P,{children:"Fecha de Nacimiento"}),e.jsx(P,{children:"Principal"}),e.jsx(P,{children:"Estado"}),e.jsx(P,{children:"Nacionalidad"}),e.jsx(P,{children:"Departamento"}),e.jsx(P,{children:"Municipio"}),e.jsx(P,{children:"Tipo de Persona"}),e.jsx(P,{children:"Género"}),e.jsx(P,{className:"text-end",children:"Acciones"})]})}),e.jsxs(Bo,{children:[console.log("currentRecords:",te)," ",te.length>0?te.map(o=>{var r,n,a,p,d,l;return e.jsxs(ce,{children:[e.jsx(v,{children:o.originalIndex}),e.jsx(v,{children:o.dni_persona?o.dni_persona.toUpperCase():"N/D"}),e.jsx(v,{children:o.Nombre?o.Nombre.toUpperCase():"N/D"}),e.jsx(v,{children:o.Segundo_nombre?o.Segundo_nombre.toUpperCase():"N/D"}),e.jsx(v,{children:o.Primer_apellido?o.Primer_apellido.toUpperCase():"N/D"}),e.jsx(v,{children:o.Segundo_apellido?o.Segundo_apellido.toUpperCase():"N/D"}),e.jsx(v,{children:o.direccion_persona?o.direccion_persona.toUpperCase():"N/D"}),e.jsxs(v,{children:[" ",new Date(o.fecha_nacimiento).toLocaleDateString("en-CA")]}),e.jsxs(v,{className:"text-center",children:[o.principal?e.jsx(T,{icon:Fo,style:{fontSize:"2em",color:"#28a745"}}):e.jsx(T,{icon:qo,style:{fontSize:"2em",color:"#dc3545"}})," "]}),e.jsx(v,{className:"text-center",children:o.Estado_Persona==="A"?e.jsx("span",{className:"badge bg-success",children:"Activo"}):e.jsx("span",{className:"badge bg-warning text-dark",children:"Suspendido"})}),e.jsx(v,{children:((r=q.find(m=>m.Cod_nacionalidad===o.cod_nacionalidad))==null?void 0:r.pais_nacionalidad.toUpperCase())||"N/D"}),e.jsx(v,{children:((n=k.find(m=>m.Cod_departamento===o.cod_departamento))==null?void 0:n.Nombre_departamento.toUpperCase())||"N/D"}),e.jsx(v,{children:((a=R.find(m=>m.Cod_municipio===o.cod_municipio))==null?void 0:a.Nombre_municipio.toUpperCase())||"N/D"}),e.jsx(v,{children:((p=D.find(m=>m.Cod_tipo_persona===o.cod_tipo_persona))==null?void 0:p.Tipo.toUpperCase())||"N/D"}),e.jsx(v,{children:((d=M.find(m=>m.Cod_genero===o.cod_genero))==null?void 0:d.Tipo_genero.toUpperCase())||"N/D"}),e.jsx(v,{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-center",children:[e.jsx(b,{color:"warning",onClick:()=>to(o),style:{marginRight:"10px"},children:e.jsx(T,{icon:Lo})}),e.jsx(b,{color:"danger",onClick:()=>lo(o),children:e.jsx(T,{icon:$o})}),e.jsxs(b,{color:"secondary",onClick:()=>ao(o),style:{marginLeft:"10px"},children:[e.jsx(T,{icon:Yo})," "]}),((l=D.find(m=>m.Cod_tipo_persona===o.cod_tipo_persona))==null?void 0:l.Tipo)==="ESTUDIANTE"?e.jsx(b,{onClick:()=>so(o),style:{marginLeft:"10px",backgroundColor:"#90EE90",borderColor:"#90EE90"},children:e.jsx(T,{icon:Oo})}):e.jsx(b,{onClick:()=>io(o),style:{marginLeft:"10px",backgroundColor:"#007bff",borderColor:"#007bff"},children:e.jsx(T,{icon:Ro})})]})})]},o.cod_persona)}):e.jsx(ce,{children:e.jsx(v,{colSpan:"13",className:"text-center"})})]})]})})}),e.jsxs("div",{className:"pagination-container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsxs(Ko,{"aria-label":"Page navigation",children:[e.jsx(b,{style:{backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:B===1,onClick:()=>ke(B-1),children:"Anterior"}),e.jsx(b,{style:{marginLeft:"10px",backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:B===Math.ceil(z.length/F),onClick:()=>ke(B+1),children:"Siguiente"})]}),e.jsxs("span",{style:{marginLeft:"10px"},children:["Página ",B," de ",Math.ceil(z.length/F)]})]}),e.jsxs(le,{visible:We,onClose:we,backdrop:"static",size:"xl",children:[e.jsx(de,{closeButton:!0,children:e.jsx(ue,{children:"Agregar Persona"})}),e.jsx(pe,{children:e.jsx(Le,{children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("style",{jsx:!0,children:`
        .error-message { color: red;
          font-size: 12px;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `}),e.jsxs("div",{className:"col-md-12",children:[" ",i.dni_persona&&e.jsxs("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:[" ",i.dni_persona]}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"DNI"}),e.jsx(N,{type:"text",placeholder:"DNI de la persona",value:t.dni_persona,onChange:o=>{const r=Se(o.target.value);S({...t,dni_persona:r});const n={},a=r.replace(/-/g,"");if(!/^\d{13}$/.test(a))n.dni_persona="El DNI debe tener exactamente 13 dígitos.";else{const p=parseInt(a.substring(0,4));(p<101||p>2e3)&&(n.dni_persona="Los primeros cuatro dígitos deben estar entre 0101 y 2000.");const d=parseInt(a.substring(4,8)),l=new Date().getFullYear();(d<l-100||d>l)&&(n.dni_persona=`El año debe estar entre ${l-100} y ${l}.`)}c(p=>({...p,dni_persona:n.dni_persona||""}))},onCopy:_,onPaste:_,required:!0})]})]}),e.jsxs("div",{className:"col-md-12",children:[i.Nombre&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Nombre}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Primer Nombre"}),e.jsx(N,{type:"text",placeholder:"Nombre",value:t.Nombre,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Nombre:"El nombre no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Nombre:"El nombre solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Nombre:"El nombre no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Nombre="El primer nombre debe tener al menos 2 caracteres.":n.Nombre="":n.Nombre="El primer nombre no puede estar vacío.",S({...t,Nombre:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
            .error-message {
              color: red;
              font-size: 12px;  /* Tamaño de texto más pequeño */
              margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
              margin-bottom: 0;
              margin-left: 12px;  /* Para alinearlo con el texto del input */
            }
          `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Segundo_nombre&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Segundo_nombre}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Segundo Nombre"}),e.jsx(N,{type:"text",placeholder:"Segundo Nombre",value:t.Segundo_nombre,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Segundo_nombre:"El segundo nombre no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Segundo_nombre:"El segundo nombre solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Segundo_nombre:"El segundo nombre no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Segundo_nombre="El segundo nombre debe tener al menos 2 caracteres.":n.Segundo_nombre="":n.Segundo_nombre="El segundo nombre no puede estar vacío.",S({...t,Segundo_nombre:r}),c(n)},onCopy:_,onPaste:_})]}),e.jsx("style",{jsx:!0,children:`
          .error-message {
            color: red;
            font-size: 12px;  /* Tamaño de texto más pequeño */
            margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
            margin-bottom: 0;
            margin-left: 12px;  /* Para alinearlo con el texto del input */
          }
        `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Primer_apellido&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Primer_apellido}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Primer Apellido"}),e.jsx(N,{type:"text",placeholder:"Primer Apellido",value:t.Primer_apellido,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Primer_apellido:"El primer apellido no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Primer_apellido:"El primer apellido solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Primer_apellido:"El primer apellido no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Primer_apellido="El primer apellido debe tener al menos 2 caracteres.":n.Primer_apellido="":n.Primer_apellido="El primer apellido no puede estar vacío.",S({...t,Primer_apellido:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
          .error-message {
            color: red;
            font-size: 12px;  /* Tamaño de texto más pequeño */
            margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
            margin-bottom: 0;
            margin-left: 12px;  /* Para alinearlo con el texto del input */
          }
        `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Segundo_apellido&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Segundo_apellido}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Segundo Apellido"}),e.jsx(N,{type:"text",placeholder:"Segundo Apellido",value:t.Segundo_apellido,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Segundo_apellido:"El segundo apellido no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Segundo_apellido:"El segundo apellido solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Segundo_apellido:"El segundo apellido no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Segundo_apellido="El segundo apellido debe tener al menos 2 caracteres.":n.Segundo_apellido="":n.Segundo_apellido="El segundo apellido no puede estar vacío.",S({...t,Segundo_apellido:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
          .error-message {
            color: red;
            font-size: 12px;  /* Tamaño de texto más pequeño */
            margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
            margin-bottom: 0;
            margin-left: 12px;  /* Para alinearlo con el texto del input */
          }
        `})]}),e.jsxs("div",{className:"col-md-12",children:[i.fecha_nacimiento&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.fecha_nacimiento}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Fecha de Nacimiento"}),e.jsx(N,{type:"date",value:t.fecha_nacimiento,onChange:o=>{const r=o.target.value;S(a=>({...a,fecha_nacimiento:r}));let n={...i};if(!r||r==="")n.fecha_nacimiento="Debe ingresar una fecha de nacimiento válida.";else{const a=new Date().getFullYear(),p=a-100,d=a-4,m=new Date(r).getFullYear();m<p||m>d?n.fecha_nacimiento=`La fecha de nacimiento debe estar entre los años ${p} y ${d}.`:n.fecha_nacimiento=""}c(n)},required:!0})]}),e.jsx("style",{jsx:!0,children:`
          .error-message {
            color: red;
            font-size: 12px;  /* Tamaño de texto más pequeño */
            margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
            margin-bottom: 0;
            margin-left: 12px;  /* Para alinearlo con el texto del input */
          }
        `})]}),e.jsxs("div",{className:"col-md-12",children:[i.direccion_persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.direccion_persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Dirección"}),e.jsx(N,{type:"text",placeholder:"Dirección",value:t.direccion_persona,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,direccion_persona:"La dirección no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ0-9\s\-#.,]/.test(r)){c(a=>({...a,direccion_persona:"La dirección solo puede contener letras, números, acentos, espacios y caracteres como guiones, puntos y comas."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,direccion_persona:"La dirección no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?n.direccion_persona="":n.direccion_persona="La dirección no puede estar vacía.",S({...t,direccion_persona:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
          .error-message {
            color: red;
            font-size: 12px;  /* Tamaño de texto más pequeño */
            margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
            margin-bottom: 0;
            margin-left: 12px;  /* Para alinearlo con el texto del input */
          }
        `})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"col-md-12",children:[i.Estado_Persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Estado_Persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Estado"}),e.jsxs(A,{value:t.Estado_Persona||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.Estado_Persona="":n.Estado_Persona="Debe seleccionar un estado.",c(n),S({...t,Estado_Persona:r})},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un estado"}),e.jsx("option",{value:"A",children:"ACTIVO"}),e.jsx("option",{value:"S",children:"SUSPENDIDO"})]})]})]}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"col-md-12",children:[i.cod_tipo_persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.cod_tipo_persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Tipo Persona"}),e.jsxs(A,{value:t.cod_tipo_persona||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.cod_tipo_persona="":n.cod_tipo_persona="Debe seleccionar un tipo de persona.";const a=D.find(p=>p.Cod_tipo_persona===parseInt(r,10));a&&a.Tipo==="ESTUDIANTE"?S({...t,cod_tipo_persona:r,principal:!1}):S({...t,cod_tipo_persona:r}),c(n)},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un tipo persona"}),D&&D.map(o=>e.jsx("option",{value:o.Cod_tipo_persona,children:o.Tipo.toUpperCase()},o.Cod_tipo_persona))]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsx(g,{className:"mb-3 align-items-center",children:e.jsxs(x,{style:{width:"230px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:"Principal"}),e.jsx($e,{type:"checkbox",label:"",checked:t.principal,onChange:o=>{const r=D.find(n=>n.Cod_tipo_persona===parseInt(t.cod_tipo_persona,10));r&&r.Tipo!=="ESTUDIANTE"&&S({...t,principal:o.target.checked})},style:{transform:"scale(1.3)",marginLeft:"10px"},disabled:((Be=D.find(o=>o.Cod_tipo_persona===parseInt(t.cod_tipo_persona,10)))==null?void 0:Be.Tipo)==="ESTUDIANTE"})]})})}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"col-md-12",children:[i.cod_genero&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.cod_genero}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Género"}),e.jsxs(A,{value:t.cod_genero||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.cod_genero="":n.cod_genero="Debe seleccionar un género.",c(n),S({...t,cod_genero:r})},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un género"}),M&&M.map(o=>e.jsx("option",{value:o.Cod_genero,children:o.Tipo_genero.toUpperCase()},o.Cod_genero))]})]})]}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"mb-3",children:[i.nacionalidad&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.nacionalidad}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Nacionalidad"}),e.jsx(N,{type:"text",value:G,onKeyPress:V,onChange:Ue,onCopy:_,onPaste:_,placeholder:"Buscar por sigla de pais o letra"}),e.jsx(b,{type:"button",children:e.jsx(T,{icon:oe})})]}),ye&&H.length>0&&e.jsxs("div",{className:"dropdown-container",style:{position:"relative"},children:[e.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",zIndex:999,top:"100%",left:"0",width:"100%",maxHeight:"200px",overflowY:"auto"},children:H.map(o=>e.jsxs("div",{className:"dropdown-item",style:{cursor:"pointer"},onClick:()=>Ie(o),children:[o.Id_nacionalidad.toUpperCase()," - ",o.pais_nacionalidad.toUpperCase()]},o.Cod_nacionalidad))}),e.jsx("style",{jsx:!0,children:`
                .error-message {
                  color: red;
                  font-size: 0.850rem; /* Tamaño de texto más pequeño */
                  margin-top: 4px; /* Menor distancia entre el input y el mensaje de error */
                  margin-bottom: 0;
                  margin-left: 12px; /* Para alinearlo con el texto del input */
                }
              `})]})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"col-md-12",children:[i.cod_departamento&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.cod_departamento}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Departamento"}),e.jsxs(A,{value:t.cod_departamento||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.cod_departamento="":n.cod_departamento="Debe seleccionar un departamento.",c(n),S({...t,cod_departamento:r})},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un departamento"}),k&&k.map(o=>e.jsx("option",{value:o.Cod_departamento,children:o.Nombre_departamento.toUpperCase()},o.Cod_departamento))]})]})]}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"mb-3",children:[i.municipio&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.municipio}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Municipio"}),e.jsx(N,{type:"text",value:je,onChange:ze,onKeyPress:V,onCopy:_,onPaste:_,placeholder:"Buscar por nombre del municipio"}),e.jsx(b,{type:"button",children:e.jsx(T,{icon:oe})})]}),Ne&&K.length>0&&e.jsx("div",{className:"dropdown-container",style:{position:"relative"},children:e.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",zIndex:999,top:"100%",left:"0",width:"100%",maxHeight:"200px",overflowY:"auto"},children:K.map(o=>e.jsxs("div",{className:"dropdown-item",style:{cursor:"pointer"},onClick:()=>Me(o),children:[o.Nombre_municipio.toUpperCase()," - ",o.Nombre_departamento.toUpperCase()]},o.Cod_municipio))})}),e.jsx("style",{jsx:!0,children:`
          .error-message {
          color: red;
          font-size: 0.850rem; /* Tamaño de texto más pequeño */
          margin-top: 4px; /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px; /* Para alinearlo con el texto del input */
        }
      `})]})]})]})})}),e.jsxs(me,{children:[e.jsx(b,{color:"secondary",onClick:we,children:"Cerrar"}),e.jsxs(b,{style:{backgroundColor:"#4B6251",color:"white",borderColor:"#4B6251"},onClick:xo,children:[e.jsx(T,{icon:Ye})," Guardar"]})]})]}),e.jsxs(le,{visible:Ge,onClose:Te,backdrop:"static",size:"xl",children:[e.jsx(de,{closeButton:!0,children:e.jsx(ue,{children:"Actualizar Persona"})}),e.jsx(pe,{children:e.jsx(Le,{children:e.jsxs(Wo,{children:[e.jsxs(Oe,{md:6,children:[e.jsxs("div",{className:"col-md-12",children:[i.dni_persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.dni_persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"DNI"}),e.jsx(N,{type:"text",placeholder:"DNI de la persona",value:s.dni_persona,onChange:o=>{const r=Se(o.target.value);C({...s,dni_persona:r});const n={},a=r.replace(/-/g,"");if(!/^\d{13}$/.test(a))n.dni_persona="El DNI debe tener exactamente 13 dígitos.";else{const p=parseInt(a.substring(0,4));(p<101||p>2e3)&&(n.dni_persona="Los primeros cuatro dígitos deben estar entre 0101 y 2000.");const d=parseInt(a.substring(4,8)),l=new Date().getFullYear();(d<l-100||d>l-4)&&(n.dni_persona=`El año debe estar entre ${l-100} y ${l}.`)}c(p=>({...p,dni_persona:n.dni_persona||""}))},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
              .error-message {
                color: red;
                font-size: 12px;  /* Tamaño de texto más pequeño */
                margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
                margin-bottom: 0;
                margin-left: 12px;  /* Para alinearlo con el texto del input */
              }
            `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Nombre&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Nombre}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Nombre"}),e.jsx(N,{type:"text",placeholder:"Nombre",value:s.Nombre,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Nombre:"El nombre no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Nombre:"El nombre solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Nombre:"El nombre no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Nombre="El nombre debe tener al menos 2 caracteres.":n.Nombre="":n.Nombre="El nombre no puede estar vacío.",C({...s,Nombre:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
                .error-message {
                  color: red;
                  font-size: 12px;  /* Tamaño de texto más pequeño */
                  margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
                  margin-bottom: 0;
                  margin-left: 12px;  /* Para alinearlo con el texto del input */
                }
              `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Segundo_nombre&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Segundo_nombre}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Segundo Nombre"}),e.jsx(N,{type:"text",placeholder:"Segundo Nombre",value:s.Segundo_nombre,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Segundo_nombre:"El segundo nombre no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Segundo_nombre:"El segundo nombre solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Segundo_nombre:"El segundo nombre no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Segundo_nombre="El segundo nombre debe tener al menos 2 caracteres.":n.Segundo_nombre="":n.Segundo_nombre="El segundo nombre no puede estar vacío.",C({...s,Segundo_nombre:r}),c(n)},onCopy:_,onPaste:_})]}),e.jsx("style",{jsx:!0,children:`
              .error-message {
                color: red;
                font-size: 12px;  /* Tamaño de texto más pequeño */
                margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
                margin-bottom: 0;
                margin-left: 12px;  /* Para alinearlo con el texto del input */
              }
            `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Primer_apellido&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Primer_apellido}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Primer Apellido"}),e.jsx(N,{type:"text",placeholder:"Primer Apellido",value:s.Primer_apellido,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Primer_apellido:"El primer apellido no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Primer_apellido:"El primer apellido solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Primer_apellido:"El primer apellido no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Primer_apellido="El primer apellido debe tener al menos 2 caracteres.":n.Primer_apellido="":n.Primer_apellido="El primer apellido no puede estar vacío.",C({...s,Primer_apellido:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
            .error-message {
              color: red;
              font-size: 12px;  /* Tamaño de texto más pequeño */
              margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
              margin-bottom: 0;
              margin-left: 12px;  /* Para alinearlo con el texto del input */
            }
          `})]}),e.jsxs("div",{className:"col-md-12",children:[i.Segundo_apellido&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Segundo_apellido}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Segundo Apellido"}),e.jsx(N,{type:"text",placeholder:"Segundo Apellido",value:s.Segundo_apellido,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,Segundo_apellido:"El segundo apellido no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/.test(r)){c(a=>({...a,Segundo_apellido:"El segundo apellido solo puede contener letras, acentos y espacios."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,Segundo_apellido:"El segundo apellido no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?r.length<2?n.Segundo_apellido="El segundo apellido debe tener al menos 2 caracteres.":n.Segundo_apellido="":n.Segundo_apellido="El segundo apellido no puede estar vacío.",C({...s,Segundo_apellido:r}),c(n)},onCopy:_,onPaste:_})]}),e.jsx("style",{jsx:!0,children:`
                .error-message {
                  color: red;
                  font-size: 12px;  /* Tamaño de texto más pequeño */
                  margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
                  margin-bottom: 0;
                  margin-left: 12px;  /* Para alinearlo con el texto del input */
                }
              `})]}),e.jsxs("div",{className:"col-md-12",children:[i.fecha_nacimiento&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.fecha_nacimiento}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Fecha de Nacimiento"}),e.jsx(N,{type:"date",value:s.fecha_nacimiento,onChange:o=>{const r=o.target.value;C(a=>({...a,fecha_nacimiento:r}));let n={...i};if(!r||r==="")n.fecha_nacimiento="Debe ingresar una fecha de nacimiento válida.";else{const a=new Date().getFullYear(),p=a-100,d=a-4,m=new Date(r).getFullYear();m<p||m>d?n.fecha_nacimiento=`La fecha de nacimiento debe estar entre los años ${p} y ${d}.`:n.fecha_nacimiento=""}c(n)},required:!0})]}),e.jsx("style",{jsx:!0,children:`
                .error-message {
                  color: red;
                  font-size: 12px;  /* Tamaño de texto más pequeño */
                  margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
                  margin-bottom: 0;
                  margin-left: 12px;  /* Para alinearlo con el texto del input */
                }
              `})]}),e.jsxs("div",{className:"col-md-12",children:[i.direccion_persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.direccion_persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Dirección"}),e.jsx(N,{type:"text",placeholder:"Dirección",value:s.direccion_persona,onChange:o=>{const r=o.target.value.toUpperCase();if(/(.)\1{2,}/.test(r)){c(a=>({...a,direccion_persona:"La dirección no puede contener más de tres letras repetidas consecutivas."}));return}if(/[^A-Za-záéíóúÁÉÍÓÚñÑ0-9\s\-#.,]/.test(r)){c(a=>({...a,direccion_persona:"La dirección solo puede contener letras, números, acentos, espacios y caracteres como guiones, puntos y comas."}));return}if(/\s{2,}/.test(r)){c(a=>({...a,direccion_persona:"La dirección no puede contener más de un espacio consecutivo."}));return}const n={...i};r.trim()?n.direccion_persona="":n.direccion_persona="La dirección no puede estar vacía.",C({...s,direccion_persona:r}),c(n)},onCopy:_,onPaste:_,required:!0})]}),e.jsx("style",{jsx:!0,children:`
                  .error-message {
                    color: red;
                    font-size: 12px;  /* Tamaño de texto más pequeño */
                    margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
                    margin-bottom: 0;
                    margin-left: 12px;  /* Para alinearlo con el texto del input */
                  }
                `})]})]}),e.jsxs(Oe,{md:6,children:[e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"col-md-12",children:[i.Estado_Persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.Estado_Persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Estado"}),e.jsxs(A,{value:s.Estado_Persona||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.Estado_Persona="":n.Estado_Persona="Debe seleccionar un estado.",c(n),C({...s,Estado_Persona:r})},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un estado"}),e.jsx("option",{value:"A",children:"ACTIVO"}),e.jsx("option",{value:"S",children:"SUSPENDIDO"})]})]})]}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"col-md-12",children:[i.cod_tipo_persona&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.cod_tipo_persona}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Tipo Persona"}),e.jsxs(A,{value:s.cod_tipo_persona||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.cod_tipo_persona="":n.cod_tipo_persona="Debe seleccionar un tipo de persona.";const a=D.find(p=>p.Cod_tipo_persona===parseInt(r,10));a&&a.Tipo==="ESTUDIANTE"?C({...s,cod_tipo_persona:r,principal:!1}):C({...s,cod_tipo_persona:r}),c(n)},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un tipo persona"}),D&&D.map(o=>e.jsx("option",{value:o.Cod_tipo_persona,children:o.Tipo.toUpperCase()},o.Cod_tipo_persona))]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsx(g,{className:"mb-3 align-items-center",children:e.jsxs(x,{style:{width:"230px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{children:"Principal"}),e.jsx($e,{type:"checkbox",label:"",checked:s.principal,onChange:o=>{const r=D.find(n=>n.Cod_tipo_persona===parseInt(s.cod_tipo_persona,10));r&&r.Tipo!=="ESTUDIANTE"&&C({...s,principal:o.target.checked})},style:{transform:"scale(1.3)",marginLeft:"10px"},disabled:((Fe=D.find(o=>o.Cod_tipo_persona===parseInt(s.cod_tipo_persona,10)))==null?void 0:Fe.Tipo)==="ESTUDIANTE"})]})})}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"col-md-12",children:[e.jsxs("div",{className:"col-md-12",children:[i.cod_genero&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.cod_genero}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Género"}),e.jsxs(A,{value:s.cod_genero||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.cod_genero="":n.cod_genero="Debe seleccionar un género.",c(n),C({...s,cod_genero:parseInt(r,10)})},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un género"}),M&&M.map(o=>e.jsx("option",{value:o.Cod_genero,children:o.Tipo_genero.toUpperCase()},o.Cod_genero))]})]})]}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem;  /* Tamaño de texto más pequeño */
          margin-top: 4px;  /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px;  /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"mb-3",children:[i.nacionalidad&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.nacionalidad}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Nacionalidad"}),e.jsx(N,{type:"text",value:G,onChange:Ue,onKeyPress:V,onCopy:_,onPaste:_,placeholder:"Buscar por sigla de país o letra"}),e.jsx(b,{type:"button",children:e.jsx(T,{icon:oe})})]}),ye&&H.length>0&&e.jsx("div",{className:"dropdown-container",style:{position:"relative"},children:e.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",zIndex:999,top:"100%",left:"0",width:"100%",maxHeight:"200px",overflowY:"auto"},children:H.map(o=>e.jsxs("div",{className:"dropdown-item",style:{cursor:"pointer"},onClick:()=>{Ie(o),C({...s,Cod_nacionalidad:o.Cod_nacionalidad,Id_nacionalidad:o.Id_nacionalidad})},children:[o.Id_nacionalidad.toUpperCase()," - ",o.pais_nacionalidad.toUpperCase()]},o.Cod_nacionalidad))})}),e.jsx("style",{jsx:!0,children:`
    .error-message {
      color: red;
      font-size: 0.850rem; /* Tamaño de texto más pequeño */
      margin-top: 4px; /* Menor distancia entre el input y el mensaje de error */
      margin-bottom: 0;
      margin-left: 12px; /* Para alinearlo con el texto del input */
    }
  `})]}),e.jsxs("div",{className:"col-md-12",children:[i.cod_departamento&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.cod_departamento}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Departamento"}),e.jsxs(A,{value:s.cod_departamento||"",onChange:o=>{const r=o.target.value;let n={...i};r?n.cod_departamento="":n.cod_departamento="Debe seleccionar un departamento.",c(n),C({...s,cod_departamento:r})},required:!0,style:{color:"#6c757d"},children:[e.jsx("option",{value:"",children:"Seleccione un departamento"}),k&&k.map(o=>e.jsx("option",{value:o.Cod_departamento,children:o.Nombre_departamento.toUpperCase()},o.Cod_departamento))]})]}),e.jsx("style",{jsx:!0,children:`
        .error-message {
          color: red;
          font-size: 0.850rem; /* Tamaño de texto más pequeño */
          margin-top: 4px; /* Menor distancia entre el input y el mensaje de error */
          margin-bottom: 0;
          margin-left: 12px; /* Para alinearlo con el texto del input */
        }
      `})]}),e.jsxs("div",{className:"mb-3",children:[i.municipio&&e.jsx("div",{className:"error-message",style:{marginBottom:"10px",color:"red",fontSize:"0.850rem"},children:i.municipio}),e.jsxs(g,{className:"mb-3",children:[e.jsx(x,{children:"Municipio"}),e.jsx(N,{type:"text",value:je,onChange:ze,onKeyPress:V,onCopy:_,onPaste:_,placeholder:"Buscar por nombre del municipio"}),e.jsx(b,{type:"button",children:e.jsx(T,{icon:oe})})]}),Ne&&K.length>0&&e.jsx("div",{className:"dropdown-container",style:{position:"relative"},children:e.jsx("div",{className:"dropdown-menu show",style:{position:"absolute",zIndex:999,top:"100%",left:"0",width:"100%",maxHeight:"200px",overflowY:"auto"},children:K.map(o=>e.jsxs("div",{className:"dropdown-item",style:{cursor:"pointer"},onClick:()=>{Me(o),C({...s,cod_municipio:o.Cod_municipio,Nombre_municipio:o.Nombre_municipio})},children:[o.Nombre_municipio.toUpperCase()," - ",o.Nombre_departamento.toUpperCase()]},o.cod_municipio))})}),e.jsx("style",{jsx:!0,children:`
              .error-message {
                color: red;
                font-size: 0.850rem; /* Tamaño de texto más pequeño */
                margin-top: 4px; /* Menor distancia entre el input y el mensaje de error */
                margin-bottom: 0;
                margin-left: 12px; /* Para alinearlo con el texto del input */
              }
            `})]})]})]})})}),e.jsxs(me,{children:[e.jsx(b,{style:{backgroundColor:"#6c757d",color:"white",borderColor:"#6c757d"},onClick:Te,children:"Cancelar"}),e.jsxs(b,{style:{backgroundColor:"#4B6251",color:"white",borderColor:"#4B6251"},onClick:ho,children:[e.jsx(T,{icon:Ye})," Guardar"]})]})]}),e.jsxs(le,{visible:He,onClose:()=>Y(!1),backdrop:"static",children:[e.jsx(de,{closeButton:!0,children:e.jsx(ue,{children:"Eliminar Persona"})}),e.jsx(pe,{children:e.jsxs("p",{children:["¿Estás seguro de que deseas eliminar a la persona ",ge.codigo_persona,"?"]})}),e.jsxs(me,{children:[e.jsx(b,{style:{backgroundColor:"#6c757d",color:"white",borderColor:"#6c757d"},onClick:()=>Y(!1),children:"Cancelar"}),e.jsx(b,{style:{backgroundColor:"#dc3545",color:"white",borderColor:"#dc3545"},onClick:fo,children:"Eliminar"})]})]})]}):e.jsx(wo,{})};export{Br as default};

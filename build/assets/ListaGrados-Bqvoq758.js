import{r as d,x as Me,j as o,i as N,h as H}from"./index-SVRFFNc9.js";import{C as m}from"./index.esm-DWwMdKxH.js";import{S as a}from"./sweetalert2.esm.all-D3pEHXw3.js";import{l as Ie}from"./logo_saint_patrick-xw7Wl8f3.js";import{E as Fe}from"./jspdf.plugin.autotable-gke1D7B3.js";import{u as Z,w as Ue}from"./xlsx-lwdk4T0U.js";import{u as He}from"./usePermission-BCWksQX7.js";import Oe from"./AccessDenied-yaDW3Jao.js";import{C as Ve}from"./CContainer-BdNP0s3v.js";import{C as le,a as O}from"./CRow-Bf67u6lu.js";import{a as u}from"./CButton-D9GPTbB6.js";import{c as We}from"./cil-plus-D8mtC-W5.js";import{C as Ye,a as qe,b as Ze,c as ce}from"./CDropdownToggle-DlfIUTmX.js";import{c as Ke}from"./cil-description-MUzg6O3n.js";import{c as Je}from"./cil-file-CeQgYs_D.js";import{c as Qe}from"./cil-spreadsheet-CJUvf_vM.js";import{C as g}from"./CInputGroup-D-McUFva.js";import{C}from"./CInputGroupText-Cfu0fzaY.js";import{c as Xe}from"./cil-search-CDkY_4k-.js";import{C as v}from"./CFormInput-B_gylY64.js";import{c as eo}from"./cil-brush-alt-CV61lKqC.js";import{C as K}from"./CFormSelect-CzT7g5tb.js";import{C as oo,a as ro,b as de,c as P,d as to,e as A}from"./CTable-98qqrSRH.js";import{c as ue}from"./cil-pen-53d2I-C-.js";import{c as pe}from"./cil-trash-CBbKHhHb.js";import{C as ao}from"./CPagination-UopCEeNZ.js";import{C as J,a as Q,b as X,c as ee}from"./CModalHeader-Bhtr3bZe.js";import{C as oe}from"./CModalTitle-M2mBvD_5.js";import{C as me}from"./CForm-CYRkMwLo.js";import{c as so}from"./cil-save-CHBg7z_U.js";import"./CConditionalPortal-DwBsYzTA.js";import"./CFormControlWrapper-OEJgTi6e.js";import"./CFormControlValidation-CtDkyDfm.js";import"./CFormLabel-szm2Dda9.js";import"./CBackdrop-BbuVwMMD.js";const Oo=()=>{const{canSelect:xe,loading:no,error:io,canDelete:ge,canInsert:fe,canUpdate:he}=He("ListaGrados"),[T,Ce]=d.useState([]),[B,be]=d.useState([]),[je,G]=d.useState(!1),[we,z]=d.useState(!1),[ye,D]=d.useState(!1),[b,re]=d.useState(""),[E,ke]=d.useState(""),[R,te]=d.useState(""),[i,S]=d.useState({}),[V,ae]=d.useState({}),[W,se]=d.useState(""),[j,L]=d.useState(1),[w,Ne]=d.useState(5),y=d.useRef(null),[Te,f]=d.useState(!1),Y=()=>re(""),q=()=>S("");d.useEffect(()=>{M(),Ee();const e=localStorage.getItem("token");if(e)try{const t=Me(e);console.log("Token decodificado:",t)}catch(t){console.error("Error al decodificar el token:",t)}},[]);const Ee=async()=>{try{const t=await(await fetch("http://localhost:4000/api/ciclos/verCiclos")).json();be(t)}catch(e){console.error("Error al obtener los ciclos:",e)}},$=e=>{if(!B.length)return"Ciclos no disponibles";const t=B.find(r=>r.Cod_ciclo===e);return t?t.Nombre_ciclo:"Ciclo no encontrado"},M=async()=>{try{const r=(await(await fetch("http://localhost:4000/api/grados/verGrados")).json()).map((n,s)=>({...n,originalIndex:s+1}));Ce(r)}catch(e){console.error("Error al obtener los grados:",e)}},Se=()=>!R||R===""?(a.fire({icon:"error",title:"Error",text:"Debe seleccionar un ciclo de la lista",confirmButtonText:"Aceptar"}),!1):!0,_e=()=>{const e=typeof b=="string"?b:b.Nombre_grado;if(!e||e.trim()==="")return a.fire({icon:"error",title:"Error",text:'El campo "Nombre Grado" no puede estar vacío',confirmButtonText:"Aceptar"}),!1;const t=typeof E=="string"?E:E.Prefijo;return!t||t.trim()===""?(a.fire({icon:"error",title:"Error",text:'El campo "Prefijo" no puede estar vacío',confirmButtonText:"Aceptar"}),!1):T.some(s=>s.Nombre_grado.trim().toLowerCase()===e.trim().toLowerCase())?(a.fire({icon:"error",title:"Error",text:`El grado "${e}" ya existe`,confirmButtonText:"Aceptar"}),!1):T.some(s=>s.Prefijo.trim().toLowerCase()===t.trim().toLowerCase())?(a.fire({icon:"error",title:"Error",text:`El Prefijo "${t}" ya existe`,confirmButtonText:"Aceptar"}),!1):!0},ve=()=>i.Nombre_grado?i.Prefijo?T.some(r=>r.Nombre_grado.trim().toLowerCase()===i.Nombre_grado.trim().toLowerCase()&&r.Cod_grado!==i.Cod_grado)?(a.fire({icon:"error",title:"Error",text:`El grado "${i.Nombre_grado}" ya existe`,confirmButtonText:"Aceptar"}),!1):T.some(r=>r.Prefijo.trim().toLowerCase()===i.Prefijo.trim().toLowerCase()&&r.Cod_grado!==i.Cod_grado)?(a.fire({icon:"error",title:"Error",text:`El Prefijo "${i.Prefijo}" ya existe`,confirmButtonText:"Aceptar"}),!1):!0:(a.fire("Error",'El campo "Prefijo" no puede estar vacío',"error"),!1):(a.fire({icon:"error",title:"Error",text:'El campo "Nombre Grado" no puede estar vacío',confirmButtonText:"Aceptar"}),!1),I=(e,t)=>{const r=e.target,n=r.selectionStart;let s=r.value.toUpperCase().trimStart();const p=/^[A-Za-z0-9Ññ\s]*$/;if(/\s{2,}/.test(s)&&(a.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),s=s.replace(/\s+/g," ")),!p.test(s)){a.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras y espacios.",confirmButtonText:"Aceptar"});return}const c=s.split(" ");for(let l of c){const h={};for(let k of l)if(h[k]=(h[k]||0)+1,h[k]>4){a.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${k}" se repite más de 4 veces en la palabra "${l}".`,confirmButtonText:"Aceptar"});return}}r.value=s,t(s),f(!0),requestAnimationFrame(()=>{y.current&&y.current.setSelectionRange(n,n)})},x=e=>{e.preventDefault(),a.fire({icon:"warning",title:"Acción bloqueada",text:"Copiar y pegar no está permitido.",confirmButtonText:"Aceptar"})},F=(e,t)=>{Te?a.fire({title:"¿Estás seguro?",text:"Si cierras este formulario, perderás todos los datos ingresados.",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, cerrar",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&(e(!1),t(),f(!1))}):(e(!1),t(),f(!1))},Pe=async()=>{if(!(!Se()||!_e()))try{const e=localStorage.getItem("token");if(console.log("Token obtenido:",e),!e){a.fire("Error","No tienes permiso para realizar esta acción","error");return}const t=await N.post("http://localhost:4000/api/grados/crearGrado",{Cod_ciclo:R,Nombre_grado:b,Prefijo:E},{headers:{Authorization:`Bearer ${e}`}});if(console.log("Respuesta de crear grado:",t),t.status>=200&&t.status<300){const r=H(e);if(console.log("Token decodificado:",r),!r.cod_usuario)throw console.error("No se pudo obtener el código de usuario del token"),new Error("No se pudo obtener el código de usuario del token");const n=`El usuario: ${r.nombre_usuario} ha creado un nuevo grado ${b}`,s=await N.post("http://localhost:4000/api/bitacora/registro",{cod_usuario:r.cod_usuario,cod_objeto:55,accion:"INSERT",descripcion:n},{headers:{Authorization:`Bearer ${e}`}});console.log("Respuesta de registro en bitácora:",s),s.status>=200&&s.status<300?(console.log("Registro en bitácora exitoso"),a.fire({icon:"success",title:"¡Éxito!",text:"El grado se ha creado correctamente",confirmButtonText:"Aceptar"}),M(),G(!1),te(""),Y(),f(!1)):a.fire("Error","No se pudo registrar la acción en la bitácora","error")}else a.fire({icon:"error",title:"Error",text:"No se pudo crear el grado",confirmButtonText:"Aceptar"})}catch(e){console.error("Error al crear el grado:",e),a.fire({icon:"error",title:"Error",text:`Hubo un problema al crear el grado: ${e.message}`,confirmButtonText:"Aceptar"})}},Ae=async()=>{if(!i.Cod_ciclo)return a.fire({icon:"error",title:"Error",text:"Debe seleccionar un ciclo de la lista",confirmButtonText:"Aceptar"}),!1;if(ve())try{const e=localStorage.getItem("token");if(!e){a.fire("Error","No tienes permiso para realizar esta acción","error");return}const t=H(e);if(!t.cod_usuario||!t.nombre_usuario)throw console.error("No se pudo obtener el código o el nombre de usuario del token"),new Error("No se pudo obtener el código o el nombre de usuario del token");const r=await N.put("http://localhost:4000/api/grados/actualizarGrado",{Cod_grado:i.Cod_grado,Cod_ciclo:i.Cod_ciclo,Nombre_grado:i.Nombre_grado,Prefijo:i.Prefijo},{headers:{Authorization:`Bearer ${e}`}});if(console.log("Respuesta de actualizar grado:",r),r.status>=200&&r.status<300){const n=H(e);if(console.log("Token decodificado:",n),!n.cod_usuario)throw console.error("No se pudo obtener el código de usuario del token"),new Error("No se pudo obtener el código de usuario del token");const s=`El usuario: ${n.nombre_usuario} ha actualizado el grado a: ${i.Nombre_grado}`,p=await N.post("http://localhost:4000/api/bitacora/registro",{cod_usuario:n.cod_usuario,cod_objeto:55,accion:"UPDATE",descripcion:s},{headers:{Authorization:`Bearer ${e}`}});console.log("Respuesta de registro en bitácora:",p),p.status>=200&&p.status<300?(console.log("Registro en bitácora exitoso"),a.fire({icon:"success",title:"¡Éxito!",text:"El grado se ha actualizado correctamente",confirmButtonText:"Aceptar"}),M(),z(!1),q(),f(!1)):a.fire("Error","No se pudo registrar la acción en la bitácora","error")}else a.fire({icon:"error",title:"Error",text:"No se pudo actualizar el grado",confirmButtonText:"Aceptar"})}catch(e){console.error("Error al actualizar el grado:",e),a.fire({icon:"error",title:"Error",text:`Hubo un problema al actualizar el grado: ${e.message}`,confirmButtonText:"Aceptar"})}},Be=async()=>{try{const e=localStorage.getItem("token");if(console.log("Token obtenido:",e),!e){a.fire("Error","No tienes permiso para realizar esta acción","error");return}const t=H(e);if(console.log("Token decodificado:",t),!t.cod_usuario)throw console.error("No se pudo obtener el código de usuario del token"),new Error("No se pudo obtener el código de usuario del token");const r=await N.delete("http://localhost:4000/api/grados/eliminarGrado",{data:{Cod_grado:V.Cod_grado},headers:{Authorization:`Bearer ${e}`}});if(console.log("Respuesta de eliminar grado:",r),r.status>=200&&r.status<300){const n=`El usuario: ${t.nombre_usuario} ha eliminado el grado: ${V.Nombre_grado}`,s=await N.post("http://localhost:4000/api/bitacora/registro",{cod_usuario:t.cod_usuario,cod_objeto:55,accion:"DELETE",descripcion:n},{headers:{Authorization:`Bearer ${e}`}});console.log("Respuesta de registro en bitácora:",s),s.status>=200&&s.status<300?(console.log("Registro en bitácora exitoso"),a.fire({icon:"success",title:"¡Éxito!",text:"El grado se ha eliminado correctamente",confirmButtonText:"Aceptar"}),M(),D(!1),ae({})):a.fire("Error","No se pudo registrar la acción en la bitácora","error")}else a.fire({icon:"error",title:"Error",text:"No se pudo eliminar el grado",confirmButtonText:"Aceptar"})}catch(e){console.error("Error al eliminar el grado:",e),a.fire({icon:"error",title:"Error",text:`Hubo un problema al eliminar el grado: ${e.message}`,confirmButtonText:"Aceptar"})}},Ge=()=>{if(!_||_.length===0){a.fire({icon:"info",title:"Tabla vacía",text:"No hay datos disponibles para generar el reporte.",confirmButtonText:"Aceptar"});return}const e=new Fe,t=new Image;t.src=Ie,t.onload=()=>{e.addImage(t,"PNG",10,10,30,30);let r=20;e.setFontSize(18),e.setTextColor(0,102,51),e.text("SAINT PATRICK'S ACADEMY",e.internal.pageSize.width/2,r,{align:"center"}),r+=12,e.setFontSize(16),e.text("Reporte de Grados",e.internal.pageSize.width/2,r,{align:"center"}),r+=10,e.setFontSize(10),e.setTextColor(100),e.text("Casa Club del periodista, Colonia del Periodista",e.internal.pageSize.width/2,r,{align:"center"}),r+=4,e.text("Teléfono: (504) 2234-8871",e.internal.pageSize.width/2,r,{align:"center"}),r+=4,e.text("Correo: info@saintpatrickacademy.edu",e.internal.pageSize.width/2,r,{align:"center"}),r+=6,e.setLineWidth(.5),e.setDrawColor(0,102,51),e.line(10,r,e.internal.pageSize.width-10,r);const n=e.internal.pageSize.height;e.autoTable({startY:r+4,head:[["#","Nombre del Grado","Nombre del Ciclo","Prefijo"]],body:_.map((c,l)=>[c.originalIndex||l+1,c.Nombre_grado,$(c.Cod_ciclo),c.Prefijo]),headStyles:{fillColor:[0,102,51],textColor:[255,255,255],fontSize:10},styles:{fontSize:10,cellPadding:3,halign:"center"},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[240,248,255]},didDrawPage:c=>{const l=new Date,h=`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`,k=e.internal.pageSize.height;e.setFontSize(10),e.setTextColor(100),e.text(`Fecha y hora de generación: ${h}`,10,k-10)}});const s=e.internal.getNumberOfPages(),p=e.internal.pageSize.width;for(let c=1;c<=s;c++){e.setPage(c),e.setTextColor(100);const l=`Página ${c} de ${s}`;e.text(l,p-30,n-10)}window.open(e.output("bloburl"),"_blank")},t.onerror=()=>{console.warn("No se pudo cargar el logo. El PDF se generará sin el logo."),window.open(e.output("bloburl"),"_blank")}},ze=()=>{const e=[["Saint Patrick Academy"],["Reporte de Grados"],[`Fecha de generación: ${new Date().toLocaleDateString()}`],[]];e.push(["#","Nombre del Grado","Nombre del Ciclo","Prefijo"]);const t=_.map((l,h)=>[l.originalIndex||h+1,l.Nombre_grado,$(l.Cod_ciclo),l.Prefijo]),r=[...e,...t],n=Z.aoa_to_sheet(r),s=[{wpx:50},{wpx:150},{wpx:150},{wpx:80}];n["!cols"]=s;const p=Z.book_new();Z.book_append_sheet(p,n,"Reporte de Grados");const c=`reporte_grados_${new Date().toLocaleDateString().replace(/\//g,"-")}.xlsx`;Ue(p,c)},De=e=>{S(e),z(!0),f(!1)},Re=e=>{ae(e),D(!0)},Le=e=>{let r=e.target.value.toUpperCase().trimStart();const n=/^[A-ZÑÁÉÍÓÚ0-9\s,]*$/;if(/\s{2,}/.test(r)&&(a.fire({icon:"warning",title:"Espacios múltiples",text:"No se permite más de un espacio entre palabras.",confirmButtonText:"Aceptar"}),r=r.replace(/\s+/g," ")),!n.test(r)){a.fire({icon:"warning",title:"Caracteres no permitidos",text:"Solo se permiten letras, números y espacios.",confirmButtonText:"Aceptar"});return}const s=r.split(" ");for(let p of s){const c={};for(let l of p)if(c[l]=(c[l]||0)+1,c[l]>4){a.fire({icon:"warning",title:"Repetición de letras",text:`La letra "${l}" se repite más de 4 veces en la palabra "${p}".`,confirmButtonText:"Aceptar"});return}}se(r),L(1)},U=T.filter(e=>{var n,s;const t=((n=e==null?void 0:e.Nombre_grado)==null?void 0:n.toLowerCase())||"",r=((s=$(e==null?void 0:e.Cod_ciclo))==null?void 0:s.toLowerCase())||"";return t.includes(W.toLowerCase())||r.includes(W.toLowerCase())}),ne=j*w,$e=ne-w,_=U.slice($e,ne),ie=e=>{e>0&&e<=Math.ceil(U.length/w)&&L(e)};return xe?o.jsxs(Ve,{children:[o.jsxs(le,{className:"align-items-center mb-5",children:[o.jsx(O,{xs:"12",md:"9",children:o.jsx("h1",{className:"mb-0",children:"Mantenimiento Grados"})}),o.jsxs(O,{xs:"12",md:"3",className:"text-end d-flex flex-column flex-md-row justify-content-md-end align-items-md-center",children:[fe&&o.jsxs(u,{className:"mb-3 mb-md-0 me-md-3 gap-1 rounded shadow",style:{backgroundColor:"#4B6251",color:"white",transition:"all 0.3s ease",height:"40px",width:"auto",minWidth:"100px",padding:"0 16px",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#3C4B43",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#4B6251",e.currentTarget.style.boxShadow="none"},onClick:()=>{G(!0),f(!1)},children:[o.jsx(m,{icon:We})," Nuevo"]}),o.jsxs(Ye,{className:"btn-sm d-flex align-items-center gap-1 rounded shadow",children:[o.jsxs(qe,{style:{backgroundColor:"#6C8E58",color:"white",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#5A784C",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#6C8E58",e.currentTarget.style.boxShadow="none"},children:[o.jsx(m,{icon:Ke})," Reporte"]}),o.jsxs(Ze,{style:{position:"absolute",zIndex:1050,backgroundColor:"#fff",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.2)",borderRadius:"4px",overflow:"hidden"},children:[o.jsxs(ce,{onClick:Ge,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",borderBottom:"1px solid #eaeaea",transition:"background-color 0.1s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[o.jsx(m,{icon:Je,size:"sm"})," Abrir en PDF"]}),o.jsxs(ce,{onClick:ze,style:{cursor:"pointer",outline:"none",backgroundColor:"transparent",padding:"0.5rem 1rem",fontSize:"0.85rem",color:"#333",transition:"background-color 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#f5f5f5",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[o.jsx(m,{icon:Qe,size:"sm"})," Descargar Excel"]})]})]})]})]}),o.jsxs(le,{className:"align-items-center mt-4 mb-2",children:[o.jsx(O,{xs:"12",md:"8",className:"d-flex flex-wrap align-items-center",children:o.jsxs(g,{className:"me-3",style:{width:"400px"},children:[o.jsx(C,{children:o.jsx(m,{icon:Xe})}),o.jsx(v,{placeholder:"Buscar por grado o ciclo...",onChange:Le,value:W}),o.jsxs(u,{style:{border:"1px solid #ccc",transition:"all 0.1s ease-in-out",backgroundColor:"#F3F4F7",color:"#343a40"},onClick:()=>{se(""),L(1)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#E0E0E0",e.currentTarget.style.color="black"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#F3F4F7",e.currentTarget.style.color="#343a40"},children:[o.jsx(m,{icon:eo})," Limpiar"]})]})}),o.jsx(O,{xs:"12",md:"4",className:"text-md-end mt-2 mt-md-0",children:o.jsx(g,{className:"mt-2 mt-md-0",style:{width:"auto",display:"inline-block"},children:o.jsxs("div",{className:"d-inline-flex align-items-center",children:[o.jsx("span",{children:"Mostrar "}),o.jsxs(K,{style:{width:"80px",display:"inline-block",textAlign:"center"},onChange:e=>{const t=Number(e.target.value);Ne(t),L(1)},value:w,children:[o.jsx("option",{value:"5",children:"5"}),o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"20",children:"20"}),o.jsx("option",{value:"30",children:"30"})]}),o.jsx("span",{children:" registros"})]})})})]}),o.jsx("div",{className:"table-container",style:{maxHeight:"400px",overflowY:"scroll",marginBottom:"20px"},children:o.jsxs(oo,{striped:!0,bordered:!0,hover:!0,children:[o.jsx(ro,{style:{position:"sticky",top:0,zIndex:1,backgroundColor:"#fff"},children:o.jsxs(de,{children:[o.jsx(P,{style:{width:"50px"},children:"#"}),o.jsx(P,{style:{width:"50px"},children:"Nombre Grado"}),o.jsx(P,{style:{width:"50px"},children:"Nombre Ciclo"}),o.jsx(P,{style:{width:"50px"},children:"Prefijo"}),o.jsx(P,{style:{width:"50px"},children:"Acciones"})]})}),o.jsx(to,{children:_.map((e,t)=>o.jsxs(de,{children:[o.jsx(A,{children:e.originalIndex}),o.jsx(A,{children:e.Nombre_grado}),o.jsx(A,{children:$(e.Cod_ciclo)}),o.jsx(A,{children:e.Prefijo}),o.jsxs(A,{children:[he&&o.jsx(u,{style:{backgroundColor:"#F9B64E",marginRight:"10px"},onClick:()=>De(e),children:o.jsx(m,{icon:ue})}),ge&&o.jsx(u,{style:{backgroundColor:"#E57368",marginRight:"10px"},onClick:()=>Re(e),children:o.jsx(m,{icon:pe})})]})]},e.Cod_grado))})]})}),o.jsxs("div",{className:"pagination-container",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[o.jsxs(ao,{"aria-label":"Page navigation",children:[o.jsx(u,{style:{backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:j===1,onClick:()=>ie(j-1),children:"Anterior"}),o.jsx(u,{style:{marginLeft:"10px",backgroundColor:"#6f8173",color:"#D9EAD3"},disabled:j===Math.ceil(U.length/w),onClick:()=>ie(j+1),children:"Siguiente"})]}),o.jsxs("span",{style:{marginLeft:"10px"},children:["Página ",j," de ",Math.ceil(U.length/w)]})]}),o.jsxs(J,{visible:je,backdrop:"static",children:[o.jsxs(Q,{closeButton:!1,children:[o.jsx(oe,{children:"Crear Nuevo Grado"}),o.jsx(u,{className:"btn-close","aria-label":"Close",onClick:()=>F(G,Y)})]}),o.jsx(X,{children:o.jsxs(me,{children:[o.jsxs(g,{className:"mb-3",children:[o.jsx(C,{children:"Nombre Ciclo"}),o.jsxs(K,{"aria-label":"Seleccionar ciclo",value:R,onChange:e=>te(e.target.value),style:{maxHeight:"200px",overflowY:"auto"},children:[o.jsx("option",{value:"",children:"Seleccione un ciclo"})," ",B.map(e=>o.jsx("option",{value:e.Cod_ciclo,children:e.Nombre_ciclo},e.Cod_ciclo))]})]}),o.jsxs(g,{className:"mb-3",children:[o.jsx(C,{children:"Nombre Grado"}),o.jsx(v,{ref:y,type:"text",placeholder:"Ingrese el nombre del grado",maxLength:20,onPaste:x,onCopy:x,value:b,onChange:e=>I(e,re)})]}),o.jsxs(g,{className:"mb-3",children:[o.jsx(C,{children:"Prefijo"}),o.jsx(v,{ref:y,type:"text",placeholder:"Ingrese Prefijo",maxLength:10,onPaste:x,onCopy:x,value:E,onChange:e=>I(e,ke)})]})]})}),o.jsxs(ee,{children:[o.jsx(u,{color:"secondary",onClick:()=>F(G,Y),children:"Cancelar"}),o.jsxs(u,{style:{backgroundColor:"#4B6251",color:"white"},onClick:Pe,onMouseEnter:e=>e.currentTarget.style.backgroundColor="#3C4B43",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#4B6251",children:[o.jsx(m,{icon:so,style:{marginRight:"5px"}})," Guardar"]})]})]}),o.jsxs(J,{visible:we,backdrop:"static",children:[o.jsxs(Q,{closeButton:!1,children:[o.jsx(oe,{children:"Actualizar Grado"}),o.jsx(u,{className:"btn-close","aria-label":"Close",onClick:()=>F(z,q)})]}),o.jsx(X,{children:o.jsxs(me,{children:[o.jsxs(g,{className:"mb-3",children:[o.jsx(C,{children:"Nombre Ciclo"}),o.jsxs(K,{"aria-label":"Seleccionar ciclo",value:i.Cod_ciclo,onChange:e=>S({...i,Cod_ciclo:e.target.value}),children:[o.jsx("option",{value:"",children:"Seleccione un ciclo"})," ",B.map(e=>o.jsx("option",{value:e.Cod_ciclo,children:e.Nombre_ciclo},e.Cod_ciclo))]})]}),o.jsxs(g,{className:"mb-3",children:[o.jsx(C,{children:"Nombre Grado"}),o.jsx(v,{ref:y,maxLength:20,onPaste:x,onCopy:x,placeholder:"Ingrese el nuevo nombre del grado",value:i.Nombre_grado,onChange:e=>I(e,t=>S({...i,Nombre_grado:t}))})]}),o.jsxs(g,{className:"mb-3",children:[o.jsx(C,{children:"Prefijo"}),o.jsx(v,{ref:y,maxLength:10,onPaste:x,onCopy:x,placeholder:"Ingrese el nuevo ",value:i.Prefijo,onChange:e=>I(e,t=>S({...i,Prefijo:t}))})]})]})}),o.jsxs(ee,{children:[o.jsx(u,{color:"secondary",onClick:()=>F(z,q),children:"Cancelar"}),o.jsxs(u,{style:{backgroundColor:"#F9B64E",color:"white"},onClick:Ae,children:[o.jsx(m,{icon:ue,style:{marginRight:"5px"}})," Actualizar"]})]})]}),o.jsxs(J,{visible:ye,onClose:()=>D(!1),backdrop:"static",children:[o.jsx(Q,{children:o.jsx(oe,{children:"Confirmar Eliminación"})}),o.jsx(X,{children:o.jsxs("p",{children:["¿Estás seguro de que deseas eliminar el grado: ",o.jsx("strong",{children:V.Nombre_grado}),"?"]})}),o.jsxs(ee,{children:[o.jsx(u,{color:"secondary",onClick:()=>D(!1),children:"Cancelar"}),o.jsxs(u,{style:{backgroundColor:"#E57368",color:"white"},onClick:Be,children:[o.jsx(m,{icon:pe,style:{marginRight:"5px"}})," Eliminar"]})]})]})]}):o.jsx(Oe,{})};export{Oo as default};

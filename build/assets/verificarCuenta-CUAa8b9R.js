import{p as d,o as f,r as s,j as e}from"./index-SVRFFNc9.js";const p=()=>{const{token_usuario:i}=d(),t=f(),[c,a]=s.useState("Confirmando tu cuenta..."),[l,n]=s.useState(!0);return s.useEffect(()=>{(async()=>{try{const r=await fetch(`http://localhost:4000/api/usuarios/confirmar/${i}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok)t("/correo-verificado");else{const o=await r.json();o.message==="El token ha expirado."?(a("Token de confirmación ya expirado."),n(!1)):o.message==="Token de verificación ya no está disponible."?(a("Token de verificación ya no está disponible."),n(!1)):(console.error("Error al confirmar la cuenta:",o.message),a("Token de confirmación ya expirado."),n(!1))}}catch(r){console.error("Error en la solicitud de confirmación:",r),a("Error en la solicitud de confirmación. Intenta nuevamente."),n(!1)}})()},[t,i]),e.jsxs("div",{className:"verificar-cuenta-container",children:[e.jsx("h2",{children:"Verificar Cuenta"}),e.jsx("p",{children:c}),l?e.jsx("div",{className:"loading-spinner"}):e.jsx("div",{className:"error-icon",children:"❌"})]})};export{p as default};
